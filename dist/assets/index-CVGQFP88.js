(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var De=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Lu={exports:{}},ni={},Iu={exports:{}},L={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mr=Symbol.for("react.element"),kh=Symbol.for("react.portal"),Sh=Symbol.for("react.fragment"),jh=Symbol.for("react.strict_mode"),Eh=Symbol.for("react.profiler"),bh=Symbol.for("react.provider"),Ch=Symbol.for("react.context"),Nh=Symbol.for("react.forward_ref"),Th=Symbol.for("react.suspense"),Ph=Symbol.for("react.memo"),Oh=Symbol.for("react.lazy"),ua=Symbol.iterator;function Rh(t){return t===null||typeof t!="object"?null:(t=ua&&t[ua]||t["@@iterator"],typeof t=="function"?t:null)}var Uu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Du=Object.assign,Mu={};function Wn(t,e,n){this.props=t,this.context=e,this.refs=Mu,this.updater=n||Uu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zu(){}zu.prototype=Wn.prototype;function ul(t,e,n){this.props=t,this.context=e,this.refs=Mu,this.updater=n||Uu}var cl=ul.prototype=new zu;cl.constructor=ul;Du(cl,Wn.prototype);cl.isPureReactComponent=!0;var ca=Array.isArray,Fu=Object.prototype.hasOwnProperty,dl={current:null},Bu={key:!0,ref:!0,__self:!0,__source:!0};function Wu(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Fu.call(e,r)&&!Bu.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:Mr,type:t,key:i,ref:o,props:s,_owner:dl.current}}function Ah(t,e){return{$$typeof:Mr,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hl(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mr}function $h(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var da=/\/+/g;function ji(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$h(""+t.key):e.toString(36)}function vs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mr:case kh:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ji(o,0):r,ca(s)?(n="",t!=null&&(n=t.replace(da,"$&/")+"/"),vs(s,e,n,"",function(u){return u})):s!=null&&(hl(s)&&(s=Ah(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(da,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ca(t))for(var l=0;l<t.length;l++){i=t[l];var a=r+ji(i,l);o+=vs(i,e,n,a,s)}else if(a=Rh(t),typeof a=="function")for(t=a.call(t),l=0;!(i=t.next()).done;)i=i.value,a=r+ji(i,l++),o+=vs(i,e,n,a,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Jr(t,e,n){if(t==null)return t;var r=[],s=0;return vs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Lh(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var we={current:null},ys={transition:null},Ih={ReactCurrentDispatcher:we,ReactCurrentBatchConfig:ys,ReactCurrentOwner:dl};function Hu(){throw Error("act(...) is not supported in production builds of React.")}L.Children={map:Jr,forEach:function(t,e,n){Jr(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jr(t,function(){e++}),e},toArray:function(t){return Jr(t,function(e){return e})||[]},only:function(t){if(!hl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};L.Component=Wn;L.Fragment=Sh;L.Profiler=Eh;L.PureComponent=ul;L.StrictMode=jh;L.Suspense=Th;L.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ih;L.act=Hu;L.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Du({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=dl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(a in e)Fu.call(e,a)&&!Bu.hasOwnProperty(a)&&(r[a]=e[a]===void 0&&l!==void 0?l[a]:e[a])}var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:Mr,type:t.type,key:s,ref:i,props:r,_owner:o}};L.createContext=function(t){return t={$$typeof:Ch,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bh,_context:t},t.Consumer=t};L.createElement=Wu;L.createFactory=function(t){var e=Wu.bind(null,t);return e.type=t,e};L.createRef=function(){return{current:null}};L.forwardRef=function(t){return{$$typeof:Nh,render:t}};L.isValidElement=hl;L.lazy=function(t){return{$$typeof:Oh,_payload:{_status:-1,_result:t},_init:Lh}};L.memo=function(t,e){return{$$typeof:Ph,type:t,compare:e===void 0?null:e}};L.startTransition=function(t){var e=ys.transition;ys.transition={};try{t()}finally{ys.transition=e}};L.unstable_act=Hu;L.useCallback=function(t,e){return we.current.useCallback(t,e)};L.useContext=function(t){return we.current.useContext(t)};L.useDebugValue=function(){};L.useDeferredValue=function(t){return we.current.useDeferredValue(t)};L.useEffect=function(t,e){return we.current.useEffect(t,e)};L.useId=function(){return we.current.useId()};L.useImperativeHandle=function(t,e,n){return we.current.useImperativeHandle(t,e,n)};L.useInsertionEffect=function(t,e){return we.current.useInsertionEffect(t,e)};L.useLayoutEffect=function(t,e){return we.current.useLayoutEffect(t,e)};L.useMemo=function(t,e){return we.current.useMemo(t,e)};L.useReducer=function(t,e,n){return we.current.useReducer(t,e,n)};L.useRef=function(t){return we.current.useRef(t)};L.useState=function(t){return we.current.useState(t)};L.useSyncExternalStore=function(t,e,n){return we.current.useSyncExternalStore(t,e,n)};L.useTransition=function(){return we.current.useTransition()};L.version="18.3.1";Iu.exports=L;var N=Iu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=N,Dh=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),zh=Object.prototype.hasOwnProperty,Fh=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bh={key:!0,ref:!0,__self:!0,__source:!0};function Vu(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)zh.call(e,r)&&!Bh.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Dh,type:t,key:i,ref:o,props:s,_owner:Fh.current}}ni.Fragment=Mh;ni.jsx=Vu;ni.jsxs=Vu;Lu.exports=ni;var d=Lu.exports,qu={exports:{}},Re={},Ku={exports:{}},Qu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,O){var R=b.length;b.push(O);e:for(;0<R;){var Y=R-1>>>1,se=b[Y];if(0<s(se,O))b[Y]=O,b[R]=se,R=Y;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var O=b[0],R=b.pop();if(R!==O){b[0]=R;e:for(var Y=0,se=b.length,Qr=se>>>1;Y<Qr;){var Ft=2*(Y+1)-1,Si=b[Ft],Bt=Ft+1,Gr=b[Bt];if(0>s(Si,R))Bt<se&&0>s(Gr,Si)?(b[Y]=Gr,b[Bt]=R,Y=Bt):(b[Y]=Si,b[Ft]=R,Y=Ft);else if(Bt<se&&0>s(Gr,R))b[Y]=Gr,b[Bt]=R,Y=Bt;else break e}}return O}function s(b,O){var R=b.sortIndex-O.sortIndex;return R!==0?R:b.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var a=[],u=[],c=1,h=null,p=3,v=!1,w=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(b){for(var O=n(u);O!==null;){if(O.callback===null)r(u);else if(O.startTime<=b)r(u),O.sortIndex=O.expirationTime,e(a,O);else break;O=n(u)}}function y(b){if(_=!1,f(b),!w)if(n(a)!==null)w=!0,G(x);else{var O=n(u);O!==null&&le(y,O.startTime-b)}}function x(b,O){w=!1,_&&(_=!1,g(T),T=-1),v=!0;var R=p;try{for(f(O),h=n(a);h!==null&&(!(h.expirationTime>O)||b&&!Ce());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,p=h.priorityLevel;var se=Y(h.expirationTime<=O);O=t.unstable_now(),typeof se=="function"?h.callback=se:h===n(a)&&r(a),f(O)}else r(a);h=n(a)}if(h!==null)var Qr=!0;else{var Ft=n(u);Ft!==null&&le(y,Ft.startTime-O),Qr=!1}return Qr}finally{h=null,p=R,v=!1}}var S=!1,E=null,T=-1,V=5,A=-1;function Ce(){return!(t.unstable_now()-A<V)}function nt(){if(E!==null){var b=t.unstable_now();A=b;var O=!0;try{O=E(!0,b)}finally{O?zt():(S=!1,E=null)}}else S=!1}var zt;if(typeof m=="function")zt=function(){m(nt)};else if(typeof MessageChannel<"u"){var Kr=new MessageChannel,W=Kr.port2;Kr.port1.onmessage=nt,zt=function(){W.postMessage(null)}}else zt=function(){j(nt,0)};function G(b){E=b,S||(S=!0,zt())}function le(b,O){T=j(function(){b(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){w||v||(w=!0,G(x))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(a)},t.unstable_next=function(b){switch(p){case 1:case 2:case 3:var O=3;break;default:O=p}var R=p;p=O;try{return b()}finally{p=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,O){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var R=p;p=b;try{return O()}finally{p=R}},t.unstable_scheduleCallback=function(b,O,R){var Y=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?Y+R:Y):R=Y,b){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=R+se,b={id:c++,callback:O,priorityLevel:b,startTime:R,expirationTime:se,sortIndex:-1},R>Y?(b.sortIndex=R,e(u,b),n(a)===null&&b===n(u)&&(_?(g(T),T=-1):_=!0,le(y,R-Y))):(b.sortIndex=se,e(a,b),w||v||(w=!0,G(x))),b},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(b){var O=p;return function(){var R=p;p=O;try{return b.apply(this,arguments)}finally{p=R}}}})(Qu);Ku.exports=Qu;var Wh=Ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh=N,Oe=Wh;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gu=new Set,xr={};function on(t,e){Ln(t,e),Ln(t+"Capture",e)}function Ln(t,e){for(xr[t]=e,t=0;t<e.length;t++)Gu.add(e[t])}var ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),so=Object.prototype.hasOwnProperty,Vh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha={},fa={};function qh(t){return so.call(fa,t)?!0:so.call(ha,t)?!1:Vh.test(t)?fa[t]=!0:(ha[t]=!0,!1)}function Kh(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Qh(t,e,n,r){if(e===null||typeof e>"u"||Kh(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function _e(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new _e(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new _e(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new _e(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new _e(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new _e(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new _e(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new _e(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new _e(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new _e(t,5,!1,t.toLowerCase(),null,!1,!1)});var fl=/[\-:]([a-z])/g;function pl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fl,pl);ce[e]=new _e(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fl,pl);ce[e]=new _e(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fl,pl);ce[e]=new _e(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new _e(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new _e("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new _e(t,1,!1,t.toLowerCase(),null,!0,!0)});function ml(t,e,n,r){var s=ce.hasOwnProperty(e)?ce[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Qh(e,n,s,r)&&(n=null),r||s===null?qh(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pt=Hh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yr=Symbol.for("react.element"),vn=Symbol.for("react.portal"),yn=Symbol.for("react.fragment"),gl=Symbol.for("react.strict_mode"),io=Symbol.for("react.profiler"),Ju=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),vl=Symbol.for("react.forward_ref"),oo=Symbol.for("react.suspense"),lo=Symbol.for("react.suspense_list"),yl=Symbol.for("react.memo"),yt=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),pa=Symbol.iterator;function Gn(t){return t===null||typeof t!="object"?null:(t=pa&&t[pa]||t["@@iterator"],typeof t=="function"?t:null)}var Q=Object.assign,Ei;function sr(t){if(Ei===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ei=e&&e[1]||""}return`
`+Ei+t}var bi=!1;function Ci(t,e){if(!t||bi)return"";bi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return t.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",t.displayName)),a}while(1<=o&&0<=l);break}}}finally{bi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sr(t):""}function Gh(t){switch(t.tag){case 5:return sr(t.type);case 16:return sr("Lazy");case 13:return sr("Suspense");case 19:return sr("SuspenseList");case 0:case 2:case 15:return t=Ci(t.type,!1),t;case 11:return t=Ci(t.type.render,!1),t;case 1:return t=Ci(t.type,!0),t;default:return""}}function ao(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yn:return"Fragment";case vn:return"Portal";case io:return"Profiler";case gl:return"StrictMode";case oo:return"Suspense";case lo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yu:return(t.displayName||"Context")+".Consumer";case Ju:return(t._context.displayName||"Context")+".Provider";case vl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yl:return e=t.displayName||null,e!==null?e:ao(t.type)||"Memo";case yt:e=t._payload,t=t._init;try{return ao(t(e))}catch{}}return null}function Jh(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(e);case 8:return e===gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function At(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zu(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Yh(t){var e=Zu(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xr(t){t._valueTracker||(t._valueTracker=Yh(t))}function ec(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Zu(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function uo(t,e){var n=e.checked;return Q({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ma(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=At(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tc(t,e){e=e.checked,e!=null&&ml(t,"checked",e,!1)}function co(t,e){tc(t,e);var n=At(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ho(t,e.type,n):e.hasOwnProperty("defaultValue")&&ho(t,e.type,At(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ga(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ho(t,e,n){(e!=="number"||Ts(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ir=Array.isArray;function Tn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+At(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function fo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return Q({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function va(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(k(92));if(ir(n)){if(1<n.length)throw Error(k(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:At(n)}}function nc(t,e){var n=At(e.value),r=At(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ya(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function po(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zr,sc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function kr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ur={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xh=["Webkit","ms","Moz","O"];Object.keys(ur).forEach(function(t){Xh.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ur[e]=ur[t]})});function ic(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ur.hasOwnProperty(t)&&ur[t]?(""+e).trim():e+"px"}function oc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ic(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Zh=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mo(t,e){if(e){if(Zh[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function go(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vo=null;function wl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yo=null,Pn=null,On=null;function wa(t){if(t=Br(t)){if(typeof yo!="function")throw Error(k(280));var e=t.stateNode;e&&(e=li(e),yo(t.stateNode,t.type,e))}}function lc(t){Pn?On?On.push(t):On=[t]:Pn=t}function ac(){if(Pn){var t=Pn,e=On;if(On=Pn=null,wa(t),e)for(t=0;t<e.length;t++)wa(e[t])}}function uc(t,e){return t(e)}function cc(){}var Ni=!1;function dc(t,e,n){if(Ni)return t(e,n);Ni=!0;try{return uc(t,e,n)}finally{Ni=!1,(Pn!==null||On!==null)&&(cc(),ac())}}function Sr(t,e){var n=t.stateNode;if(n===null)return null;var r=li(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(k(231,e,typeof n));return n}var wo=!1;if(ct)try{var Jn={};Object.defineProperty(Jn,"passive",{get:function(){wo=!0}}),window.addEventListener("test",Jn,Jn),window.removeEventListener("test",Jn,Jn)}catch{wo=!1}function ef(t,e,n,r,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var cr=!1,Ps=null,Os=!1,_o=null,tf={onError:function(t){cr=!0,Ps=t}};function nf(t,e,n,r,s,i,o,l,a){cr=!1,Ps=null,ef.apply(tf,arguments)}function rf(t,e,n,r,s,i,o,l,a){if(nf.apply(this,arguments),cr){if(cr){var u=Ps;cr=!1,Ps=null}else throw Error(k(198));Os||(Os=!0,_o=u)}}function ln(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function hc(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _a(t){if(ln(t)!==t)throw Error(k(188))}function sf(t){var e=t.alternate;if(!e){if(e=ln(t),e===null)throw Error(k(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return _a(s),t;if(i===r)return _a(s),e;i=i.sibling}throw Error(k(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(k(189))}}if(n.alternate!==r)throw Error(k(190))}if(n.tag!==3)throw Error(k(188));return n.stateNode.current===n?t:e}function fc(t){return t=sf(t),t!==null?pc(t):null}function pc(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pc(t);if(e!==null)return e;t=t.sibling}return null}var mc=Oe.unstable_scheduleCallback,xa=Oe.unstable_cancelCallback,of=Oe.unstable_shouldYield,lf=Oe.unstable_requestPaint,X=Oe.unstable_now,af=Oe.unstable_getCurrentPriorityLevel,_l=Oe.unstable_ImmediatePriority,gc=Oe.unstable_UserBlockingPriority,Rs=Oe.unstable_NormalPriority,uf=Oe.unstable_LowPriority,vc=Oe.unstable_IdlePriority,ri=null,et=null;function cf(t){if(et&&typeof et.onCommitFiberRoot=="function")try{et.onCommitFiberRoot(ri,t,void 0,(t.current.flags&128)===128)}catch{}}var Ke=Math.clz32?Math.clz32:ff,df=Math.log,hf=Math.LN2;function ff(t){return t>>>=0,t===0?32:31-(df(t)/hf|0)|0}var es=64,ts=4194304;function or(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function As(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=or(l):(i&=o,i!==0&&(r=or(i)))}else o=n&~s,o!==0?r=or(o):i!==0&&(r=or(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ke(e),s=1<<n,r|=t[n],e&=~s;return r}function pf(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mf(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ke(i),l=1<<o,a=s[o];a===-1?(!(l&n)||l&r)&&(s[o]=pf(l,e)):a<=e&&(t.expiredLanes|=l),i&=~l}}function xo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yc(){var t=es;return es<<=1,!(es&4194240)&&(es=64),t}function Ti(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function zr(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ke(e),t[e]=n}function gf(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ke(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function xl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ke(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var U=0;function wc(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _c,kl,xc,kc,Sc,ko=!1,ns=[],Et=null,bt=null,Ct=null,jr=new Map,Er=new Map,_t=[],vf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ka(t,e){switch(t){case"focusin":case"focusout":Et=null;break;case"dragenter":case"dragleave":bt=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":jr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(e.pointerId)}}function Yn(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Br(e),e!==null&&kl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function yf(t,e,n,r,s){switch(e){case"focusin":return Et=Yn(Et,t,e,n,r,s),!0;case"dragenter":return bt=Yn(bt,t,e,n,r,s),!0;case"mouseover":return Ct=Yn(Ct,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return jr.set(i,Yn(jr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Er.set(i,Yn(Er.get(i)||null,t,e,n,r,s)),!0}return!1}function jc(t){var e=Gt(t.target);if(e!==null){var n=ln(e);if(n!==null){if(e=n.tag,e===13){if(e=hc(n),e!==null){t.blockedOn=e,Sc(t.priority,function(){xc(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ws(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=So(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);vo=r,n.target.dispatchEvent(r),vo=null}else return e=Br(n),e!==null&&kl(e),t.blockedOn=n,!1;e.shift()}return!0}function Sa(t,e,n){ws(t)&&n.delete(e)}function wf(){ko=!1,Et!==null&&ws(Et)&&(Et=null),bt!==null&&ws(bt)&&(bt=null),Ct!==null&&ws(Ct)&&(Ct=null),jr.forEach(Sa),Er.forEach(Sa)}function Xn(t,e){t.blockedOn===e&&(t.blockedOn=null,ko||(ko=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,wf)))}function br(t){function e(s){return Xn(s,t)}if(0<ns.length){Xn(ns[0],t);for(var n=1;n<ns.length;n++){var r=ns[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Et!==null&&Xn(Et,t),bt!==null&&Xn(bt,t),Ct!==null&&Xn(Ct,t),jr.forEach(e),Er.forEach(e),n=0;n<_t.length;n++)r=_t[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_t.length&&(n=_t[0],n.blockedOn===null);)jc(n),n.blockedOn===null&&_t.shift()}var Rn=pt.ReactCurrentBatchConfig,$s=!0;function _f(t,e,n,r){var s=U,i=Rn.transition;Rn.transition=null;try{U=1,Sl(t,e,n,r)}finally{U=s,Rn.transition=i}}function xf(t,e,n,r){var s=U,i=Rn.transition;Rn.transition=null;try{U=4,Sl(t,e,n,r)}finally{U=s,Rn.transition=i}}function Sl(t,e,n,r){if($s){var s=So(t,e,n,r);if(s===null)Mi(t,e,r,Ls,n),ka(t,r);else if(yf(s,t,e,n,r))r.stopPropagation();else if(ka(t,r),e&4&&-1<vf.indexOf(t)){for(;s!==null;){var i=Br(s);if(i!==null&&_c(i),i=So(t,e,n,r),i===null&&Mi(t,e,r,Ls,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mi(t,e,r,null,n)}}var Ls=null;function So(t,e,n,r){if(Ls=null,t=wl(r),t=Gt(t),t!==null)if(e=ln(t),e===null)t=null;else if(n=e.tag,n===13){if(t=hc(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ls=t,null}function Ec(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(af()){case _l:return 1;case gc:return 4;case Rs:case uf:return 16;case vc:return 536870912;default:return 16}default:return 16}}var St=null,jl=null,_s=null;function bc(){if(_s)return _s;var t,e=jl,n=e.length,r,s="value"in St?St.value:St.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return _s=s.slice(t,1<r?1-r:void 0)}function xs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function rs(){return!0}function ja(){return!1}function Ae(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rs:ja,this.isPropagationStopped=ja,this}return Q(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),e}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=Ae(Hn),Fr=Q({},Hn,{view:0,detail:0}),kf=Ae(Fr),Pi,Oi,Zn,si=Q({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(Pi=t.screenX-Zn.screenX,Oi=t.screenY-Zn.screenY):Oi=Pi=0,Zn=t),Pi)},movementY:function(t){return"movementY"in t?t.movementY:Oi}}),Ea=Ae(si),Sf=Q({},si,{dataTransfer:0}),jf=Ae(Sf),Ef=Q({},Fr,{relatedTarget:0}),Ri=Ae(Ef),bf=Q({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Cf=Ae(bf),Nf=Q({},Hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Tf=Ae(Nf),Pf=Q({},Hn,{data:0}),ba=Ae(Pf),Of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Af={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $f(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Af[t])?!!e[t]:!1}function bl(){return $f}var Lf=Q({},Fr,{key:function(t){if(t.key){var e=Of[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(t){return t.type==="keypress"?xs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),If=Ae(Lf),Uf=Q({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ca=Ae(Uf),Df=Q({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),Mf=Ae(Df),zf=Q({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ff=Ae(zf),Bf=Q({},si,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Wf=Ae(Bf),Hf=[9,13,27,32],Cl=ct&&"CompositionEvent"in window,dr=null;ct&&"documentMode"in document&&(dr=document.documentMode);var Vf=ct&&"TextEvent"in window&&!dr,Cc=ct&&(!Cl||dr&&8<dr&&11>=dr),Na=" ",Ta=!1;function Nc(t,e){switch(t){case"keyup":return Hf.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wn=!1;function qf(t,e){switch(t){case"compositionend":return Tc(e);case"keypress":return e.which!==32?null:(Ta=!0,Na);case"textInput":return t=e.data,t===Na&&Ta?null:t;default:return null}}function Kf(t,e){if(wn)return t==="compositionend"||!Cl&&Nc(t,e)?(t=bc(),_s=jl=St=null,wn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Cc&&e.locale!=="ko"?null:e.data;default:return null}}var Qf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pa(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Qf[t.type]:e==="textarea"}function Pc(t,e,n,r){lc(r),e=Is(e,"onChange"),0<e.length&&(n=new El("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hr=null,Cr=null;function Gf(t){Fc(t,0)}function ii(t){var e=kn(t);if(ec(e))return t}function Jf(t,e){if(t==="change")return e}var Oc=!1;if(ct){var Ai;if(ct){var $i="oninput"in document;if(!$i){var Oa=document.createElement("div");Oa.setAttribute("oninput","return;"),$i=typeof Oa.oninput=="function"}Ai=$i}else Ai=!1;Oc=Ai&&(!document.documentMode||9<document.documentMode)}function Ra(){hr&&(hr.detachEvent("onpropertychange",Rc),Cr=hr=null)}function Rc(t){if(t.propertyName==="value"&&ii(Cr)){var e=[];Pc(e,Cr,t,wl(t)),dc(Gf,e)}}function Yf(t,e,n){t==="focusin"?(Ra(),hr=e,Cr=n,hr.attachEvent("onpropertychange",Rc)):t==="focusout"&&Ra()}function Xf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ii(Cr)}function Zf(t,e){if(t==="click")return ii(e)}function ep(t,e){if(t==="input"||t==="change")return ii(e)}function tp(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ge=typeof Object.is=="function"?Object.is:tp;function Nr(t,e){if(Ge(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!so.call(e,s)||!Ge(t[s],e[s]))return!1}return!0}function Aa(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $a(t,e){var n=Aa(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Aa(n)}}function Ac(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ac(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $c(){for(var t=window,e=Ts();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ts(t.document)}return e}function Nl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function np(t){var e=$c(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Ac(n.ownerDocument.documentElement,n)){if(r!==null&&Nl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=$a(n,i);var o=$a(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rp=ct&&"documentMode"in document&&11>=document.documentMode,_n=null,jo=null,fr=null,Eo=!1;function La(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eo||_n==null||_n!==Ts(r)||(r=_n,"selectionStart"in r&&Nl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fr&&Nr(fr,r)||(fr=r,r=Is(jo,"onSelect"),0<r.length&&(e=new El("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_n)))}function ss(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xn={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},Li={},Lc={};ct&&(Lc=document.createElement("div").style,"AnimationEvent"in window||(delete xn.animationend.animation,delete xn.animationiteration.animation,delete xn.animationstart.animation),"TransitionEvent"in window||delete xn.transitionend.transition);function oi(t){if(Li[t])return Li[t];if(!xn[t])return t;var e=xn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lc)return Li[t]=e[n];return t}var Ic=oi("animationend"),Uc=oi("animationiteration"),Dc=oi("animationstart"),Mc=oi("transitionend"),zc=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function It(t,e){zc.set(t,e),on(e,[t])}for(var Ii=0;Ii<Ia.length;Ii++){var Ui=Ia[Ii],sp=Ui.toLowerCase(),ip=Ui[0].toUpperCase()+Ui.slice(1);It(sp,"on"+ip)}It(Ic,"onAnimationEnd");It(Uc,"onAnimationIteration");It(Dc,"onAnimationStart");It("dblclick","onDoubleClick");It("focusin","onFocus");It("focusout","onBlur");It(Mc,"onTransitionEnd");Ln("onMouseEnter",["mouseout","mouseover"]);Ln("onMouseLeave",["mouseout","mouseover"]);Ln("onPointerEnter",["pointerout","pointerover"]);Ln("onPointerLeave",["pointerout","pointerover"]);on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));on("onBeforeInput",["compositionend","keypress","textInput","paste"]);on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),op=new Set("cancel close invalid load scroll toggle".split(" ").concat(lr));function Ua(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,rf(r,e,void 0,t),t.currentTarget=null}function Fc(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ua(s,l,u),i=a}else for(o=0;o<r.length;o++){if(l=r[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ua(s,l,u),i=a}}}if(Os)throw t=_o,Os=!1,_o=null,t}function F(t,e){var n=e[Po];n===void 0&&(n=e[Po]=new Set);var r=t+"__bubble";n.has(r)||(Bc(e,t,2,!1),n.add(r))}function Di(t,e,n){var r=0;e&&(r|=4),Bc(n,t,r,e)}var is="_reactListening"+Math.random().toString(36).slice(2);function Tr(t){if(!t[is]){t[is]=!0,Gu.forEach(function(n){n!=="selectionchange"&&(op.has(n)||Di(n,!1,t),Di(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[is]||(e[is]=!0,Di("selectionchange",!1,e))}}function Bc(t,e,n,r){switch(Ec(e)){case 1:var s=_f;break;case 4:s=xf;break;default:s=Sl}n=s.bind(null,e,n,t),s=void 0,!wo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mi(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Gt(l),o===null)return;if(a=o.tag,a===5||a===6){r=i=o;continue e}l=l.parentNode}}r=r.return}dc(function(){var u=i,c=wl(n),h=[];e:{var p=zc.get(t);if(p!==void 0){var v=El,w=t;switch(t){case"keypress":if(xs(n)===0)break e;case"keydown":case"keyup":v=If;break;case"focusin":w="focus",v=Ri;break;case"focusout":w="blur",v=Ri;break;case"beforeblur":case"afterblur":v=Ri;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ea;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Mf;break;case Ic:case Uc:case Dc:v=Cf;break;case Mc:v=Ff;break;case"scroll":v=kf;break;case"wheel":v=Wf;break;case"copy":case"cut":case"paste":v=Tf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ca}var _=(e&4)!==0,j=!_&&t==="scroll",g=_?p!==null?p+"Capture":null:p;_=[];for(var m=u,f;m!==null;){f=m;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,g!==null&&(y=Sr(m,g),y!=null&&_.push(Pr(m,y,f)))),j)break;m=m.return}0<_.length&&(p=new v(p,w,null,n,c),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&n!==vo&&(w=n.relatedTarget||n.fromElement)&&(Gt(w)||w[dt]))break e;if((v||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=u,w=w?Gt(w):null,w!==null&&(j=ln(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(_=Ea,y="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ca,y="onPointerLeave",g="onPointerEnter",m="pointer"),j=v==null?p:kn(v),f=w==null?p:kn(w),p=new _(y,m+"leave",v,n,c),p.target=j,p.relatedTarget=f,y=null,Gt(c)===u&&(_=new _(g,m+"enter",w,n,c),_.target=f,_.relatedTarget=j,y=_),j=y,v&&w)t:{for(_=v,g=w,m=0,f=_;f;f=un(f))m++;for(f=0,y=g;y;y=un(y))f++;for(;0<m-f;)_=un(_),m--;for(;0<f-m;)g=un(g),f--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=un(_),g=un(g)}_=null}else _=null;v!==null&&Da(h,p,v,_,!1),w!==null&&j!==null&&Da(h,j,w,_,!0)}}e:{if(p=u?kn(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var x=Jf;else if(Pa(p))if(Oc)x=ep;else{x=Xf;var S=Yf}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=Zf);if(x&&(x=x(t,u))){Pc(h,x,n,c);break e}S&&S(t,p,u),t==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&ho(p,"number",p.value)}switch(S=u?kn(u):window,t){case"focusin":(Pa(S)||S.contentEditable==="true")&&(_n=S,jo=u,fr=null);break;case"focusout":fr=jo=_n=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,La(h,n,c);break;case"selectionchange":if(rp)break;case"keydown":case"keyup":La(h,n,c)}var E;if(Cl)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else wn?Nc(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Cc&&n.locale!=="ko"&&(wn||T!=="onCompositionStart"?T==="onCompositionEnd"&&wn&&(E=bc()):(St=c,jl="value"in St?St.value:St.textContent,wn=!0)),S=Is(u,T),0<S.length&&(T=new ba(T,t,null,n,c),h.push({event:T,listeners:S}),E?T.data=E:(E=Tc(n),E!==null&&(T.data=E)))),(E=Vf?qf(t,n):Kf(t,n))&&(u=Is(u,"onBeforeInput"),0<u.length&&(c=new ba("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=E))}Fc(h,e)})}function Pr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Is(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Sr(t,n),i!=null&&r.unshift(Pr(t,i,s)),i=Sr(t,e),i!=null&&r.push(Pr(t,i,s))),t=t.return}return r}function un(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Da(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,a=l.alternate,u=l.stateNode;if(a!==null&&a===r)break;l.tag===5&&u!==null&&(l=u,s?(a=Sr(n,i),a!=null&&o.unshift(Pr(n,a,l))):s||(a=Sr(n,i),a!=null&&o.push(Pr(n,a,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lp=/\r\n?/g,ap=/\u0000|\uFFFD/g;function Ma(t){return(typeof t=="string"?t:""+t).replace(lp,`
`).replace(ap,"")}function os(t,e,n){if(e=Ma(e),Ma(t)!==e&&n)throw Error(k(425))}function Us(){}var bo=null,Co=null;function No(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,up=typeof clearTimeout=="function"?clearTimeout:void 0,za=typeof Promise=="function"?Promise:void 0,cp=typeof queueMicrotask=="function"?queueMicrotask:typeof za<"u"?function(t){return za.resolve(null).then(t).catch(dp)}:To;function dp(t){setTimeout(function(){throw t})}function zi(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),br(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);br(e)}function Nt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Fa(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Vn=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Vn,Or="__reactProps$"+Vn,dt="__reactContainer$"+Vn,Po="__reactEvents$"+Vn,hp="__reactListeners$"+Vn,fp="__reactHandles$"+Vn;function Gt(t){var e=t[Ze];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dt]||n[Ze]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Fa(t);t!==null;){if(n=t[Ze])return n;t=Fa(t)}return e}t=n,n=t.parentNode}return null}function Br(t){return t=t[Ze]||t[dt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function kn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function li(t){return t[Or]||null}var Oo=[],Sn=-1;function Ut(t){return{current:t}}function B(t){0>Sn||(t.current=Oo[Sn],Oo[Sn]=null,Sn--)}function z(t,e){Sn++,Oo[Sn]=t.current,t.current=e}var $t={},pe=Ut($t),je=Ut(!1),en=$t;function In(t,e){var n=t.type.contextTypes;if(!n)return $t;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ee(t){return t=t.childContextTypes,t!=null}function Ds(){B(je),B(pe)}function Ba(t,e,n){if(pe.current!==$t)throw Error(k(168));z(pe,e),z(je,n)}function Wc(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(k(108,Jh(t)||"Unknown",s));return Q({},n,r)}function Ms(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$t,en=pe.current,z(pe,t),z(je,je.current),!0}function Wa(t,e,n){var r=t.stateNode;if(!r)throw Error(k(169));n?(t=Wc(t,e,en),r.__reactInternalMemoizedMergedChildContext=t,B(je),B(pe),z(pe,t)):B(je),z(je,n)}var ot=null,ai=!1,Fi=!1;function Hc(t){ot===null?ot=[t]:ot.push(t)}function pp(t){ai=!0,Hc(t)}function Dt(){if(!Fi&&ot!==null){Fi=!0;var t=0,e=U;try{var n=ot;for(U=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ot=null,ai=!1}catch(s){throw ot!==null&&(ot=ot.slice(t+1)),mc(_l,Dt),s}finally{U=e,Fi=!1}}return null}var jn=[],En=0,zs=null,Fs=0,$e=[],Le=0,tn=null,lt=1,at="";function Vt(t,e){jn[En++]=Fs,jn[En++]=zs,zs=t,Fs=e}function Vc(t,e,n){$e[Le++]=lt,$e[Le++]=at,$e[Le++]=tn,tn=t;var r=lt;t=at;var s=32-Ke(r)-1;r&=~(1<<s),n+=1;var i=32-Ke(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,lt=1<<32-Ke(e)+s|n<<s|r,at=i+t}else lt=1<<i|n<<s|r,at=t}function Tl(t){t.return!==null&&(Vt(t,1),Vc(t,1,0))}function Pl(t){for(;t===zs;)zs=jn[--En],jn[En]=null,Fs=jn[--En],jn[En]=null;for(;t===tn;)tn=$e[--Le],$e[Le]=null,at=$e[--Le],$e[Le]=null,lt=$e[--Le],$e[Le]=null}var Pe=null,Te=null,H=!1,qe=null;function qc(t,e){var n=Ie(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ha(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pe=t,Te=Nt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pe=t,Te=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=tn!==null?{id:lt,overflow:at}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ie(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pe=t,Te=null,!0):!1;default:return!1}}function Ro(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ao(t){if(H){var e=Te;if(e){var n=e;if(!Ha(t,e)){if(Ro(t))throw Error(k(418));e=Nt(n.nextSibling);var r=Pe;e&&Ha(t,e)?qc(r,n):(t.flags=t.flags&-4097|2,H=!1,Pe=t)}}else{if(Ro(t))throw Error(k(418));t.flags=t.flags&-4097|2,H=!1,Pe=t}}}function Va(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pe=t}function ls(t){if(t!==Pe)return!1;if(!H)return Va(t),H=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!No(t.type,t.memoizedProps)),e&&(e=Te)){if(Ro(t))throw Kc(),Error(k(418));for(;e;)qc(t,e),e=Nt(e.nextSibling)}if(Va(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Te=Nt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Te=null}}else Te=Pe?Nt(t.stateNode.nextSibling):null;return!0}function Kc(){for(var t=Te;t;)t=Nt(t.nextSibling)}function Un(){Te=Pe=null,H=!1}function Ol(t){qe===null?qe=[t]:qe.push(t)}var mp=pt.ReactCurrentBatchConfig;function er(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(k(309));var r=n.stateNode}if(!r)throw Error(k(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!n._owner)throw Error(k(290,t))}return t}function as(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function qa(t){var e=t._init;return e(t._payload)}function Qc(t){function e(g,m){if(t){var f=g.deletions;f===null?(g.deletions=[m],g.flags|=16):f.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Rt(g,m),g.index=0,g.sibling=null,g}function i(g,m,f){return g.index=f,t?(f=g.alternate,f!==null?(f=f.index,f<m?(g.flags|=2,m):f):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,m,f,y){return m===null||m.tag!==6?(m=Qi(f,g.mode,y),m.return=g,m):(m=s(m,f),m.return=g,m)}function a(g,m,f,y){var x=f.type;return x===yn?c(g,m,f.props.children,y,f.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yt&&qa(x)===m.type)?(y=s(m,f.props),y.ref=er(g,m,f),y.return=g,y):(y=Ns(f.type,f.key,f.props,null,g.mode,y),y.ref=er(g,m,f),y.return=g,y)}function u(g,m,f,y){return m===null||m.tag!==4||m.stateNode.containerInfo!==f.containerInfo||m.stateNode.implementation!==f.implementation?(m=Gi(f,g.mode,y),m.return=g,m):(m=s(m,f.children||[]),m.return=g,m)}function c(g,m,f,y,x){return m===null||m.tag!==7?(m=Zt(f,g.mode,y,x),m.return=g,m):(m=s(m,f),m.return=g,m)}function h(g,m,f){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Qi(""+m,g.mode,f),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Yr:return f=Ns(m.type,m.key,m.props,null,g.mode,f),f.ref=er(g,null,m),f.return=g,f;case vn:return m=Gi(m,g.mode,f),m.return=g,m;case yt:var y=m._init;return h(g,y(m._payload),f)}if(ir(m)||Gn(m))return m=Zt(m,g.mode,f,null),m.return=g,m;as(g,m)}return null}function p(g,m,f,y){var x=m!==null?m.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return x!==null?null:l(g,m,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Yr:return f.key===x?a(g,m,f,y):null;case vn:return f.key===x?u(g,m,f,y):null;case yt:return x=f._init,p(g,m,x(f._payload),y)}if(ir(f)||Gn(f))return x!==null?null:c(g,m,f,y,null);as(g,f)}return null}function v(g,m,f,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return g=g.get(f)||null,l(m,g,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Yr:return g=g.get(y.key===null?f:y.key)||null,a(m,g,y,x);case vn:return g=g.get(y.key===null?f:y.key)||null,u(m,g,y,x);case yt:var S=y._init;return v(g,m,f,S(y._payload),x)}if(ir(y)||Gn(y))return g=g.get(f)||null,c(m,g,y,x,null);as(m,y)}return null}function w(g,m,f,y){for(var x=null,S=null,E=m,T=m=0,V=null;E!==null&&T<f.length;T++){E.index>T?(V=E,E=null):V=E.sibling;var A=p(g,E,f[T],y);if(A===null){E===null&&(E=V);break}t&&E&&A.alternate===null&&e(g,E),m=i(A,m,T),S===null?x=A:S.sibling=A,S=A,E=V}if(T===f.length)return n(g,E),H&&Vt(g,T),x;if(E===null){for(;T<f.length;T++)E=h(g,f[T],y),E!==null&&(m=i(E,m,T),S===null?x=E:S.sibling=E,S=E);return H&&Vt(g,T),x}for(E=r(g,E);T<f.length;T++)V=v(E,g,T,f[T],y),V!==null&&(t&&V.alternate!==null&&E.delete(V.key===null?T:V.key),m=i(V,m,T),S===null?x=V:S.sibling=V,S=V);return t&&E.forEach(function(Ce){return e(g,Ce)}),H&&Vt(g,T),x}function _(g,m,f,y){var x=Gn(f);if(typeof x!="function")throw Error(k(150));if(f=x.call(f),f==null)throw Error(k(151));for(var S=x=null,E=m,T=m=0,V=null,A=f.next();E!==null&&!A.done;T++,A=f.next()){E.index>T?(V=E,E=null):V=E.sibling;var Ce=p(g,E,A.value,y);if(Ce===null){E===null&&(E=V);break}t&&E&&Ce.alternate===null&&e(g,E),m=i(Ce,m,T),S===null?x=Ce:S.sibling=Ce,S=Ce,E=V}if(A.done)return n(g,E),H&&Vt(g,T),x;if(E===null){for(;!A.done;T++,A=f.next())A=h(g,A.value,y),A!==null&&(m=i(A,m,T),S===null?x=A:S.sibling=A,S=A);return H&&Vt(g,T),x}for(E=r(g,E);!A.done;T++,A=f.next())A=v(E,g,T,A.value,y),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?T:A.key),m=i(A,m,T),S===null?x=A:S.sibling=A,S=A);return t&&E.forEach(function(nt){return e(g,nt)}),H&&Vt(g,T),x}function j(g,m,f,y){if(typeof f=="object"&&f!==null&&f.type===yn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Yr:e:{for(var x=f.key,S=m;S!==null;){if(S.key===x){if(x=f.type,x===yn){if(S.tag===7){n(g,S.sibling),m=s(S,f.props.children),m.return=g,g=m;break e}}else if(S.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===yt&&qa(x)===S.type){n(g,S.sibling),m=s(S,f.props),m.ref=er(g,S,f),m.return=g,g=m;break e}n(g,S);break}else e(g,S);S=S.sibling}f.type===yn?(m=Zt(f.props.children,g.mode,y,f.key),m.return=g,g=m):(y=Ns(f.type,f.key,f.props,null,g.mode,y),y.ref=er(g,m,f),y.return=g,g=y)}return o(g);case vn:e:{for(S=f.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===f.containerInfo&&m.stateNode.implementation===f.implementation){n(g,m.sibling),m=s(m,f.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=Gi(f,g.mode,y),m.return=g,g=m}return o(g);case yt:return S=f._init,j(g,m,S(f._payload),y)}if(ir(f))return w(g,m,f,y);if(Gn(f))return _(g,m,f,y);as(g,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,f),m.return=g,g=m):(n(g,m),m=Qi(f,g.mode,y),m.return=g,g=m),o(g)):n(g,m)}return j}var Dn=Qc(!0),Gc=Qc(!1),Bs=Ut(null),Ws=null,bn=null,Rl=null;function Al(){Rl=bn=Ws=null}function $l(t){var e=Bs.current;B(Bs),t._currentValue=e}function $o(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function An(t,e){Ws=t,Rl=bn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function Me(t){var e=t._currentValue;if(Rl!==t)if(t={context:t,memoizedValue:e,next:null},bn===null){if(Ws===null)throw Error(k(308));bn=t,Ws.dependencies={lanes:0,firstContext:t}}else bn=bn.next=t;return e}var Jt=null;function Ll(t){Jt===null?Jt=[t]:Jt.push(t)}function Jc(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Ll(e)):(n.next=s.next,s.next=n),e.interleaved=n,ht(t,r)}function ht(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var wt=!1;function Il(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yc(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ut(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,I&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ht(t,n)}return s=r.interleaved,s===null?(e.next=e,Ll(r)):(e.next=s.next,s.next=e),r.interleaved=e,ht(t,n)}function ks(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xl(t,n)}}function Ka(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hs(t,e,n,r){var s=t.updateQueue;wt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var c=t.alternate;c!==null&&(c=c.updateQueue,l=c.lastBaseUpdate,l!==o&&(l===null?c.firstBaseUpdate=u:l.next=u,c.lastBaseUpdate=a))}if(i!==null){var h=s.baseState;o=0,c=u=a=null,l=i;do{var p=l.lane,v=l.eventTime;if((r&p)===p){c!==null&&(c=c.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=t,_=l;switch(p=e,v=n,_.tag){case 1:if(w=_.payload,typeof w=="function"){h=w.call(v,h,p);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=_.payload,p=typeof w=="function"?w.call(v,h,p):w,p==null)break e;h=Q({},h,p);break e;case 2:wt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},c===null?(u=c=v,a=h):c=c.next=v,o|=p;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;p=l,l=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(a=h),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);rn|=o,t.lanes=o,t.memoizedState=h}}function Qa(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(k(191,s));s.call(r)}}}var Wr={},tt=Ut(Wr),Rr=Ut(Wr),Ar=Ut(Wr);function Yt(t){if(t===Wr)throw Error(k(174));return t}function Ul(t,e){switch(z(Ar,e),z(Rr,t),z(tt,Wr),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:po(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=po(e,t)}B(tt),z(tt,e)}function Mn(){B(tt),B(Rr),B(Ar)}function Xc(t){Yt(Ar.current);var e=Yt(tt.current),n=po(e,t.type);e!==n&&(z(Rr,t),z(tt,n))}function Dl(t){Rr.current===t&&(B(tt),B(Rr))}var q=Ut(0);function Vs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bi=[];function Ml(){for(var t=0;t<Bi.length;t++)Bi[t]._workInProgressVersionPrimary=null;Bi.length=0}var Ss=pt.ReactCurrentDispatcher,Wi=pt.ReactCurrentBatchConfig,nn=0,K=null,ne=null,ie=null,qs=!1,pr=!1,$r=0,gp=0;function de(){throw Error(k(321))}function zl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ge(t[n],e[n]))return!1;return!0}function Fl(t,e,n,r,s,i){if(nn=i,K=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ss.current=t===null||t.memoizedState===null?_p:xp,t=n(r,s),pr){i=0;do{if(pr=!1,$r=0,25<=i)throw Error(k(301));i+=1,ie=ne=null,e.updateQueue=null,Ss.current=kp,t=n(r,s)}while(pr)}if(Ss.current=Ks,e=ne!==null&&ne.next!==null,nn=0,ie=ne=K=null,qs=!1,e)throw Error(k(300));return t}function Bl(){var t=$r!==0;return $r=0,t}function Ye(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?K.memoizedState=ie=t:ie=ie.next=t,ie}function ze(){if(ne===null){var t=K.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ie===null?K.memoizedState:ie.next;if(e!==null)ie=e,ne=t;else{if(t===null)throw Error(k(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?K.memoizedState=ie=t:ie=ie.next=t}return ie}function Lr(t,e){return typeof e=="function"?e(t):e}function Hi(t){var e=ze(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=ne,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,a=null,u=i;do{var c=u.lane;if((nn&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=h,o=r):a=a.next=h,K.lanes|=c,rn|=c}u=u.next}while(u!==null&&u!==i);a===null?o=r:a.next=l,Ge(r,e.memoizedState)||(Se=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=a,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,K.lanes|=i,rn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vi(t){var e=ze(),n=e.queue;if(n===null)throw Error(k(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ge(i,e.memoizedState)||(Se=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Zc(){}function ed(t,e){var n=K,r=ze(),s=e(),i=!Ge(r.memoizedState,s);if(i&&(r.memoizedState=s,Se=!0),r=r.queue,Wl(rd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,Ir(9,nd.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(k(349));nn&30||td(n,e,s)}return s}function td(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nd(t,e,n,r){e.value=n,e.getSnapshot=r,sd(e)&&id(t)}function rd(t,e,n){return n(function(){sd(e)&&id(t)})}function sd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ge(t,n)}catch{return!0}}function id(t){var e=ht(t,1);e!==null&&Qe(e,t,1,-1)}function Ga(t){var e=Ye();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:t},e.queue=t,t=t.dispatch=wp.bind(null,K,t),[e.memoizedState,t]}function Ir(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=K.updateQueue,e===null?(e={lastEffect:null,stores:null},K.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function od(){return ze().memoizedState}function js(t,e,n,r){var s=Ye();K.flags|=t,s.memoizedState=Ir(1|e,n,void 0,r===void 0?null:r)}function ui(t,e,n,r){var s=ze();r=r===void 0?null:r;var i=void 0;if(ne!==null){var o=ne.memoizedState;if(i=o.destroy,r!==null&&zl(r,o.deps)){s.memoizedState=Ir(e,n,i,r);return}}K.flags|=t,s.memoizedState=Ir(1|e,n,i,r)}function Ja(t,e){return js(8390656,8,t,e)}function Wl(t,e){return ui(2048,8,t,e)}function ld(t,e){return ui(4,2,t,e)}function ad(t,e){return ui(4,4,t,e)}function ud(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cd(t,e,n){return n=n!=null?n.concat([t]):null,ui(4,4,ud.bind(null,e,t),n)}function Hl(){}function dd(t,e){var n=ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hd(t,e){var n=ze();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&zl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fd(t,e,n){return nn&21?(Ge(n,e)||(n=yc(),K.lanes|=n,rn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=n)}function vp(t,e){var n=U;U=n!==0&&4>n?n:4,t(!0);var r=Wi.transition;Wi.transition={};try{t(!1),e()}finally{U=n,Wi.transition=r}}function pd(){return ze().memoizedState}function yp(t,e,n){var r=Ot(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},md(t))gd(e,n);else if(n=Jc(t,e,n,r),n!==null){var s=ye();Qe(n,t,r,s),vd(n,e,r)}}function wp(t,e,n){var r=Ot(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(md(t))gd(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Ge(l,o)){var a=e.interleaved;a===null?(s.next=s,Ll(e)):(s.next=a.next,a.next=s),e.interleaved=s;return}}catch{}finally{}n=Jc(t,e,s,r),n!==null&&(s=ye(),Qe(n,t,r,s),vd(n,e,r))}}function md(t){var e=t.alternate;return t===K||e!==null&&e===K}function gd(t,e){pr=qs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function vd(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xl(t,n)}}var Ks={readContext:Me,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},_p={readContext:Me,useCallback:function(t,e){return Ye().memoizedState=[t,e===void 0?null:e],t},useContext:Me,useEffect:Ja,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,js(4194308,4,ud.bind(null,e,t),n)},useLayoutEffect:function(t,e){return js(4194308,4,t,e)},useInsertionEffect:function(t,e){return js(4,2,t,e)},useMemo:function(t,e){var n=Ye();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ye();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=yp.bind(null,K,t),[r.memoizedState,t]},useRef:function(t){var e=Ye();return t={current:t},e.memoizedState=t},useState:Ga,useDebugValue:Hl,useDeferredValue:function(t){return Ye().memoizedState=t},useTransition:function(){var t=Ga(!1),e=t[0];return t=vp.bind(null,t[1]),Ye().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=K,s=Ye();if(H){if(n===void 0)throw Error(k(407));n=n()}else{if(n=e(),oe===null)throw Error(k(349));nn&30||td(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ja(rd.bind(null,r,i,t),[t]),r.flags|=2048,Ir(9,nd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ye(),e=oe.identifierPrefix;if(H){var n=at,r=lt;n=(r&~(1<<32-Ke(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$r++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=gp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xp={readContext:Me,useCallback:dd,useContext:Me,useEffect:Wl,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:hd,useReducer:Hi,useRef:od,useState:function(){return Hi(Lr)},useDebugValue:Hl,useDeferredValue:function(t){var e=ze();return fd(e,ne.memoizedState,t)},useTransition:function(){var t=Hi(Lr)[0],e=ze().memoizedState;return[t,e]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1},kp={readContext:Me,useCallback:dd,useContext:Me,useEffect:Wl,useImperativeHandle:cd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:hd,useReducer:Vi,useRef:od,useState:function(){return Vi(Lr)},useDebugValue:Hl,useDeferredValue:function(t){var e=ze();return ne===null?e.memoizedState=t:fd(e,ne.memoizedState,t)},useTransition:function(){var t=Vi(Lr)[0],e=ze().memoizedState;return[t,e]},useMutableSource:Zc,useSyncExternalStore:ed,useId:pd,unstable_isNewReconciler:!1};function We(t,e){if(t&&t.defaultProps){e=Q({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Lo(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Q({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ci={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Ot(t),i=ut(r,s);i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Qe(e,t,s,r),ks(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Ot(t),i=ut(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Tt(t,i,s),e!==null&&(Qe(e,t,s,r),ks(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ye(),r=Ot(t),s=ut(n,r);s.tag=2,e!=null&&(s.callback=e),e=Tt(t,s,r),e!==null&&(Qe(e,t,r,n),ks(e,t,r))}};function Ya(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Nr(n,r)||!Nr(s,i):!0}function yd(t,e,n){var r=!1,s=$t,i=e.contextType;return typeof i=="object"&&i!==null?i=Me(i):(s=Ee(e)?en:pe.current,r=e.contextTypes,i=(r=r!=null)?In(t,s):$t),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ci,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Xa(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ci.enqueueReplaceState(e,e.state,null)}function Io(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Il(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Me(i):(i=Ee(e)?en:pe.current,s.context=In(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Lo(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ci.enqueueReplaceState(s,s.state,null),Hs(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function zn(t,e){try{var n="",r=e;do n+=Gh(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function qi(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uo(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sp=typeof WeakMap=="function"?WeakMap:Map;function wd(t,e,n){n=ut(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gs||(Gs=!0,Ko=r),Uo(t,e)},n}function _d(t,e,n){n=ut(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Uo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uo(t,e),typeof r!="function"&&(Pt===null?Pt=new Set([this]):Pt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Za(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Up.bind(null,t,e,n),e.then(t,t))}function eu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ut(-1,1),e.tag=2,Tt(n,e,1))),n.lanes|=1),t)}var jp=pt.ReactCurrentOwner,Se=!1;function ve(t,e,n,r){e.child=t===null?Gc(e,null,n,r):Dn(e,t.child,n,r)}function nu(t,e,n,r,s){n=n.render;var i=e.ref;return An(e,s),r=Fl(t,e,n,r,i,s),n=Bl(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(H&&n&&Tl(e),e.flags|=1,ve(t,e,r,s),e.child)}function ru(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Xl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,xd(t,e,i,r,s)):(t=Ns(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Nr,n(o,r)&&t.ref===e.ref)return ft(t,e,s)}return e.flags|=1,t=Rt(i,r),t.ref=e.ref,t.return=e,e.child=t}function xd(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Nr(i,r)&&t.ref===e.ref)if(Se=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,ft(t,e,s)}return Do(t,e,n,r,s)}function kd(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},z(Nn,Ne),Ne|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,z(Nn,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,z(Nn,Ne),Ne|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,z(Nn,Ne),Ne|=r;return ve(t,e,s,n),e.child}function Sd(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Do(t,e,n,r,s){var i=Ee(n)?en:pe.current;return i=In(e,i),An(e,s),n=Fl(t,e,n,r,i,s),r=Bl(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ft(t,e,s)):(H&&r&&Tl(e),e.flags|=1,ve(t,e,n,s),e.child)}function su(t,e,n,r,s){if(Ee(n)){var i=!0;Ms(e)}else i=!1;if(An(e,s),e.stateNode===null)Es(t,e),yd(e,n,r),Io(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var a=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Me(u):(u=Ee(n)?en:pe.current,u=In(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||a!==u)&&Xa(e,o,r,u),wt=!1;var p=e.memoizedState;o.state=p,Hs(e,r,o,s),a=e.memoizedState,l!==r||p!==a||je.current||wt?(typeof c=="function"&&(Lo(e,n,c,r),a=e.memoizedState),(l=wt||Ya(e,n,l,r,p,a,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=a),o.props=r,o.state=a,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Yc(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:We(e.type,l),o.props=u,h=e.pendingProps,p=o.context,a=n.contextType,typeof a=="object"&&a!==null?a=Me(a):(a=Ee(n)?en:pe.current,a=In(e,a));var v=n.getDerivedStateFromProps;(c=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||p!==a)&&Xa(e,o,r,a),wt=!1,p=e.memoizedState,o.state=p,Hs(e,r,o,s);var w=e.memoizedState;l!==h||p!==w||je.current||wt?(typeof v=="function"&&(Lo(e,n,v,r),w=e.memoizedState),(u=wt||Ya(e,n,u,r,p,w,a)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,a)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=a,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Mo(t,e,n,r,i,s)}function Mo(t,e,n,r,s,i){Sd(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Wa(e,n,!1),ft(t,e,i);r=e.stateNode,jp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Dn(e,t.child,null,i),e.child=Dn(e,null,l,i)):ve(t,e,l,i),e.memoizedState=r.state,s&&Wa(e,n,!0),e.child}function jd(t){var e=t.stateNode;e.pendingContext?Ba(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ba(t,e.context,!1),Ul(t,e.containerInfo)}function iu(t,e,n,r,s){return Un(),Ol(s),e.flags|=256,ve(t,e,n,r),e.child}var zo={dehydrated:null,treeContext:null,retryLane:0};function Fo(t){return{baseLanes:t,cachePool:null,transitions:null}}function Ed(t,e,n){var r=e.pendingProps,s=q.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),z(q,s&1),t===null)return Ao(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fi(o,r,0,null),t=Zt(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fo(n),e.memoizedState=zo,t):Vl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ep(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var a={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=a,e.deletions=null):(r=Rt(s,a),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Rt(l,i):(i=Zt(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Fo(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=zo,r}return i=t.child,t=i.sibling,r=Rt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vl(t,e){return e=fi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function us(t,e,n,r){return r!==null&&Ol(r),Dn(e,t.child,null,n),t=Vl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ep(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=qi(Error(k(422))),us(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=fi({mode:"visible",children:r.children},s,0,null),i=Zt(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Dn(e,t.child,null,o),e.child.memoizedState=Fo(o),e.memoizedState=zo,i);if(!(e.mode&1))return us(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(k(419)),r=qi(i,r,void 0),us(t,e,o,r)}if(l=(o&t.childLanes)!==0,Se||l){if(r=oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ht(t,s),Qe(r,t,s,-1))}return Yl(),r=qi(Error(k(421))),us(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Dp.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Te=Nt(s.nextSibling),Pe=e,H=!0,qe=null,t!==null&&($e[Le++]=lt,$e[Le++]=at,$e[Le++]=tn,lt=t.id,at=t.overflow,tn=e),e=Vl(e,r.children),e.flags|=4096,e)}function ou(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$o(t.return,e,n)}function Ki(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function bd(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ve(t,e,r.children,n),r=q.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ou(t,n,e);else if(t.tag===19)ou(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(z(q,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Vs(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ki(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Vs(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ki(e,!0,n,null,i);break;case"together":Ki(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Es(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ft(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),rn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,n=Rt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Rt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function bp(t,e,n){switch(e.tag){case 3:jd(e),Un();break;case 5:Xc(e);break;case 1:Ee(e.type)&&Ms(e);break;case 4:Ul(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;z(Bs,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(z(q,q.current&1),e.flags|=128,null):n&e.child.childLanes?Ed(t,e,n):(z(q,q.current&1),t=ft(t,e,n),t!==null?t.sibling:null);z(q,q.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bd(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),z(q,q.current),r)break;return null;case 22:case 23:return e.lanes=0,kd(t,e,n)}return ft(t,e,n)}var Cd,Bo,Nd,Td;Cd=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Bo=function(){};Nd=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Yt(tt.current);var i=null;switch(n){case"input":s=uo(t,s),r=uo(t,r),i=[];break;case"select":s=Q({},s,{value:void 0}),r=Q({},r,{value:void 0}),i=[];break;case"textarea":s=fo(t,s),r=fo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Us)}mo(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xr.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var a=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(n||(n={}),n[o]=a[o])}else n||(i||(i=[]),i.push(u,n)),n=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&F("scroll",t),i||l===a||(i=[])):(i=i||[]).push(u,a))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Td=function(t,e,n,r){n!==r&&(e.flags|=4)};function tr(t,e){if(!H)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Cp(t,e,n){var r=e.pendingProps;switch(Pl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return Ee(e.type)&&Ds(),he(e),null;case 3:return r=e.stateNode,Mn(),B(je),B(pe),Ml(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ls(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qe!==null&&(Jo(qe),qe=null))),Bo(t,e),he(e),null;case 5:Dl(e);var s=Yt(Ar.current);if(n=e.type,t!==null&&e.stateNode!=null)Nd(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(k(166));return he(e),null}if(t=Yt(tt.current),ls(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ze]=e,r[Or]=i,t=(e.mode&1)!==0,n){case"dialog":F("cancel",r),F("close",r);break;case"iframe":case"object":case"embed":F("load",r);break;case"video":case"audio":for(s=0;s<lr.length;s++)F(lr[s],r);break;case"source":F("error",r);break;case"img":case"image":case"link":F("error",r),F("load",r);break;case"details":F("toggle",r);break;case"input":ma(r,i),F("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},F("invalid",r);break;case"textarea":va(r,i),F("invalid",r)}mo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&os(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&os(r.textContent,l,t),s=["children",""+l]):xr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&F("scroll",r)}switch(n){case"input":Xr(r),ga(r,i,!0);break;case"textarea":Xr(r),ya(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Us)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ze]=e,t[Or]=r,Cd(t,e,!1,!1),e.stateNode=t;e:{switch(o=go(n,r),n){case"dialog":F("cancel",t),F("close",t),s=r;break;case"iframe":case"object":case"embed":F("load",t),s=r;break;case"video":case"audio":for(s=0;s<lr.length;s++)F(lr[s],t);s=r;break;case"source":F("error",t),s=r;break;case"img":case"image":case"link":F("error",t),F("load",t),s=r;break;case"details":F("toggle",t),s=r;break;case"input":ma(t,r),s=uo(t,r),F("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Q({},r,{value:void 0}),F("invalid",t);break;case"textarea":va(t,r),s=fo(t,r),F("invalid",t);break;default:s=r}mo(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?oc(t,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&sc(t,a)):i==="children"?typeof a=="string"?(n!=="textarea"||a!=="")&&kr(t,a):typeof a=="number"&&kr(t,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xr.hasOwnProperty(i)?a!=null&&i==="onScroll"&&F("scroll",t):a!=null&&ml(t,i,a,o))}switch(n){case"input":Xr(t),ga(t,r,!1);break;case"textarea":Xr(t),ya(t);break;case"option":r.value!=null&&t.setAttribute("value",""+At(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Tn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Tn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Us)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)Td(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(k(166));if(n=Yt(Ar.current),Yt(tt.current),ls(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ze]=e,(i=r.nodeValue!==n)&&(t=Pe,t!==null))switch(t.tag){case 3:os(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&os(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ze]=e,e.stateNode=r}return he(e),null;case 13:if(B(q),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(H&&Te!==null&&e.mode&1&&!(e.flags&128))Kc(),Un(),e.flags|=98560,i=!1;else if(i=ls(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[Ze]=e}else Un(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else qe!==null&&(Jo(qe),qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||q.current&1?re===0&&(re=3):Yl())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return Mn(),Bo(t,e),t===null&&Tr(e.stateNode.containerInfo),he(e),null;case 10:return $l(e.type._context),he(e),null;case 17:return Ee(e.type)&&Ds(),he(e),null;case 19:if(B(q),i=e.memoizedState,i===null)return he(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)tr(i,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Vs(t),o!==null){for(e.flags|=128,tr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return z(q,q.current&1|2),e.child}t=t.sibling}i.tail!==null&&X()>Fn&&(e.flags|=128,r=!0,tr(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vs(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!H)return he(e),null}else 2*X()-i.renderingStartTime>Fn&&n!==1073741824&&(e.flags|=128,r=!0,tr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=X(),e.sibling=null,n=q.current,z(q,r?n&1|2:n&1),e):(he(e),null);case 22:case 23:return Jl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ne&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Np(t,e){switch(Pl(e),e.tag){case 1:return Ee(e.type)&&Ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mn(),B(je),B(pe),Ml(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Dl(e),null;case 13:if(B(q),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));Un()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return B(q),null;case 4:return Mn(),null;case 10:return $l(e.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var cs=!1,fe=!1,Tp=typeof WeakSet=="function"?WeakSet:Set,C=null;function Cn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function Wo(t,e,n){try{n()}catch(r){J(t,e,r)}}var lu=!1;function Pp(t,e){if(bo=$s,t=$c(),Nl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,a=-1,u=0,c=0,h=t,p=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(a=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===t)break t;if(p===n&&++u===s&&(l=o),p===i&&++c===r&&(a=o),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}n=l===-1||a===-1?null:{start:l,end:a}}else n=null}n=n||{start:0,end:0}}else n=null;for(Co={focusedElem:t,selectionRange:n},$s=!1,C=e;C!==null;)if(e=C,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,C=t;else for(;C!==null;){e=C;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var _=w.memoizedProps,j=w.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:We(e.type,_),j);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var f=e.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(y){J(e,e.return,y)}if(t=e.sibling,t!==null){t.return=e.return,C=t;break}C=e.return}return w=lu,lu=!1,w}function mr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wo(e,n,i)}s=s.next}while(s!==r)}}function di(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Ho(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Pd(t){var e=t.alternate;e!==null&&(t.alternate=null,Pd(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ze],delete e[Or],delete e[Po],delete e[hp],delete e[fp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Od(t){return t.tag===5||t.tag===3||t.tag===4}function au(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Od(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Us));else if(r!==4&&(t=t.child,t!==null))for(Vo(t,e,n),t=t.sibling;t!==null;)Vo(t,e,n),t=t.sibling}function qo(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(qo(t,e,n),t=t.sibling;t!==null;)qo(t,e,n),t=t.sibling}var ae=null,He=!1;function mt(t,e,n){for(n=n.child;n!==null;)Rd(t,e,n),n=n.sibling}function Rd(t,e,n){if(et&&typeof et.onCommitFiberUnmount=="function")try{et.onCommitFiberUnmount(ri,n)}catch{}switch(n.tag){case 5:fe||Cn(n,e);case 6:var r=ae,s=He;ae=null,mt(t,e,n),ae=r,He=s,ae!==null&&(He?(t=ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(He?(t=ae,n=n.stateNode,t.nodeType===8?zi(t.parentNode,n):t.nodeType===1&&zi(t,n),br(t)):zi(ae,n.stateNode));break;case 4:r=ae,s=He,ae=n.stateNode.containerInfo,He=!0,mt(t,e,n),ae=r,He=s;break;case 0:case 11:case 14:case 15:if(!fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wo(n,e,o),s=s.next}while(s!==r)}mt(t,e,n);break;case 1:if(!fe&&(Cn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,e,l)}mt(t,e,n);break;case 21:mt(t,e,n);break;case 22:n.mode&1?(fe=(r=fe)||n.memoizedState!==null,mt(t,e,n),fe=r):mt(t,e,n);break;default:mt(t,e,n)}}function uu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Tp),e.forEach(function(r){var s=Mp.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Fe(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ae=l.stateNode,He=!1;break e;case 3:ae=l.stateNode.containerInfo,He=!0;break e;case 4:ae=l.stateNode.containerInfo,He=!0;break e}l=l.return}if(ae===null)throw Error(k(160));Rd(i,o,s),ae=null,He=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){J(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ad(e,t),e=e.sibling}function Ad(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fe(e,t),Je(t),r&4){try{mr(3,t,t.return),di(3,t)}catch(_){J(t,t.return,_)}try{mr(5,t,t.return)}catch(_){J(t,t.return,_)}}break;case 1:Fe(e,t),Je(t),r&512&&n!==null&&Cn(n,n.return);break;case 5:if(Fe(e,t),Je(t),r&512&&n!==null&&Cn(n,n.return),t.flags&32){var s=t.stateNode;try{kr(s,"")}catch(_){J(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,a=t.updateQueue;if(t.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&tc(s,i),go(l,o);var u=go(l,i);for(o=0;o<a.length;o+=2){var c=a[o],h=a[o+1];c==="style"?oc(s,h):c==="dangerouslySetInnerHTML"?sc(s,h):c==="children"?kr(s,h):ml(s,c,h,u)}switch(l){case"input":co(s,i);break;case"textarea":nc(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Tn(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?Tn(s,!!i.multiple,i.defaultValue,!0):Tn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Or]=i}catch(_){J(t,t.return,_)}}break;case 6:if(Fe(e,t),Je(t),r&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){J(t,t.return,_)}}break;case 3:if(Fe(e,t),Je(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{br(e.containerInfo)}catch(_){J(t,t.return,_)}break;case 4:Fe(e,t),Je(t);break;case 13:Fe(e,t),Je(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ql=X())),r&4&&uu(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(fe=(u=fe)||c,Fe(e,t),fe=u):Fe(e,t),Je(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(C=t,c=t.child;c!==null;){for(h=C=c;C!==null;){switch(p=C,v=p.child,p.tag){case 0:case 11:case 14:case 15:mr(4,p,p.return);break;case 1:Cn(p,p.return);var w=p.stateNode;if(typeof w.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(_){J(r,n,_)}}break;case 5:Cn(p,p.return);break;case 22:if(p.memoizedState!==null){du(h);continue}}v!==null?(v.return=p,C=v):du(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,a=h.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ic("display",o))}catch(_){J(t,t.return,_)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){J(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fe(e,t),Je(t),r&4&&uu(t);break;case 21:break;default:Fe(e,t),Je(t)}}function Je(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Od(n)){var r=n;break e}n=n.return}throw Error(k(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(kr(s,""),r.flags&=-33);var i=au(t);qo(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=au(t);Vo(t,l,o);break;default:throw Error(k(161))}}catch(a){J(t,t.return,a)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Op(t,e,n){C=t,$d(t)}function $d(t,e,n){for(var r=(t.mode&1)!==0;C!==null;){var s=C,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cs;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||fe;l=cs;var u=fe;if(cs=o,(fe=a)&&!u)for(C=s;C!==null;)o=C,a=o.child,o.tag===22&&o.memoizedState!==null?hu(s):a!==null?(a.return=o,C=a):hu(s);for(;i!==null;)C=i,$d(i),i=i.sibling;C=s,cs=l,fe=u}cu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,C=i):cu(t)}}function cu(t){for(;C!==null;){var e=C;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||di(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:We(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Qa(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qa(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var a=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break;case"img":a.src&&(n.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&br(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}fe||e.flags&512&&Ho(e)}catch(p){J(e,e.return,p)}}if(e===t){C=null;break}if(n=e.sibling,n!==null){n.return=e.return,C=n;break}C=e.return}}function du(t){for(;C!==null;){var e=C;if(e===t){C=null;break}var n=e.sibling;if(n!==null){n.return=e.return,C=n;break}C=e.return}}function hu(t){for(;C!==null;){var e=C;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{di(4,e)}catch(a){J(e,n,a)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(a){J(e,s,a)}}var i=e.return;try{Ho(e)}catch(a){J(e,i,a)}break;case 5:var o=e.return;try{Ho(e)}catch(a){J(e,o,a)}}}catch(a){J(e,e.return,a)}if(e===t){C=null;break}var l=e.sibling;if(l!==null){l.return=e.return,C=l;break}C=e.return}}var Rp=Math.ceil,Qs=pt.ReactCurrentDispatcher,ql=pt.ReactCurrentOwner,Ue=pt.ReactCurrentBatchConfig,I=0,oe=null,Z=null,ue=0,Ne=0,Nn=Ut(0),re=0,Ur=null,rn=0,hi=0,Kl=0,gr=null,xe=null,Ql=0,Fn=1/0,st=null,Gs=!1,Ko=null,Pt=null,ds=!1,jt=null,Js=0,vr=0,Qo=null,bs=-1,Cs=0;function ye(){return I&6?X():bs!==-1?bs:bs=X()}function Ot(t){return t.mode&1?I&2&&ue!==0?ue&-ue:mp.transition!==null?(Cs===0&&(Cs=yc()),Cs):(t=U,t!==0||(t=window.event,t=t===void 0?16:Ec(t.type)),t):1}function Qe(t,e,n,r){if(50<vr)throw vr=0,Qo=null,Error(k(185));zr(t,n,r),(!(I&2)||t!==oe)&&(t===oe&&(!(I&2)&&(hi|=n),re===4&&xt(t,ue)),be(t,r),n===1&&I===0&&!(e.mode&1)&&(Fn=X()+500,ai&&Dt()))}function be(t,e){var n=t.callbackNode;mf(t,e);var r=As(t,t===oe?ue:0);if(r===0)n!==null&&xa(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&xa(n),e===1)t.tag===0?pp(fu.bind(null,t)):Hc(fu.bind(null,t)),cp(function(){!(I&6)&&Dt()}),n=null;else{switch(wc(r)){case 1:n=_l;break;case 4:n=gc;break;case 16:n=Rs;break;case 536870912:n=vc;break;default:n=Rs}n=Bd(n,Ld.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ld(t,e){if(bs=-1,Cs=0,I&6)throw Error(k(327));var n=t.callbackNode;if($n()&&t.callbackNode!==n)return null;var r=As(t,t===oe?ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ys(t,r);else{e=r;var s=I;I|=2;var i=Ud();(oe!==t||ue!==e)&&(st=null,Fn=X()+500,Xt(t,e));do try{Lp();break}catch(l){Id(t,l)}while(!0);Al(),Qs.current=i,I=s,Z!==null?e=0:(oe=null,ue=0,e=re)}if(e!==0){if(e===2&&(s=xo(t),s!==0&&(r=s,e=Go(t,s))),e===1)throw n=Ur,Xt(t,0),xt(t,r),be(t,X()),n;if(e===6)xt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Ap(s)&&(e=Ys(t,r),e===2&&(i=xo(t),i!==0&&(r=i,e=Go(t,i))),e===1))throw n=Ur,Xt(t,0),xt(t,r),be(t,X()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(k(345));case 2:qt(t,xe,st);break;case 3:if(xt(t,r),(r&130023424)===r&&(e=Ql+500-X(),10<e)){if(As(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=To(qt.bind(null,t,xe,st),e);break}qt(t,xe,st);break;case 4:if(xt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ke(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=X()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Rp(r/1960))-r,10<r){t.timeoutHandle=To(qt.bind(null,t,xe,st),r);break}qt(t,xe,st);break;case 5:qt(t,xe,st);break;default:throw Error(k(329))}}}return be(t,X()),t.callbackNode===n?Ld.bind(null,t):null}function Go(t,e){var n=gr;return t.current.memoizedState.isDehydrated&&(Xt(t,e).flags|=256),t=Ys(t,e),t!==2&&(e=xe,xe=n,e!==null&&Jo(e)),t}function Jo(t){xe===null?xe=t:xe.push.apply(xe,t)}function Ap(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ge(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xt(t,e){for(e&=~Kl,e&=~hi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ke(e),r=1<<n;t[n]=-1,e&=~r}}function fu(t){if(I&6)throw Error(k(327));$n();var e=As(t,0);if(!(e&1))return be(t,X()),null;var n=Ys(t,e);if(t.tag!==0&&n===2){var r=xo(t);r!==0&&(e=r,n=Go(t,r))}if(n===1)throw n=Ur,Xt(t,0),xt(t,e),be(t,X()),n;if(n===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qt(t,xe,st),be(t,X()),null}function Gl(t,e){var n=I;I|=1;try{return t(e)}finally{I=n,I===0&&(Fn=X()+500,ai&&Dt())}}function sn(t){jt!==null&&jt.tag===0&&!(I&6)&&$n();var e=I;I|=1;var n=Ue.transition,r=U;try{if(Ue.transition=null,U=1,t)return t()}finally{U=r,Ue.transition=n,I=e,!(I&6)&&Dt()}}function Jl(){Ne=Nn.current,B(Nn)}function Xt(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,up(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(Pl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ds();break;case 3:Mn(),B(je),B(pe),Ml();break;case 5:Dl(r);break;case 4:Mn();break;case 13:B(q);break;case 19:B(q);break;case 10:$l(r.type._context);break;case 22:case 23:Jl()}n=n.return}if(oe=t,Z=t=Rt(t.current,null),ue=Ne=e,re=0,Ur=null,Kl=hi=rn=0,xe=gr=null,Jt!==null){for(e=0;e<Jt.length;e++)if(n=Jt[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Jt=null}return t}function Id(t,e){do{var n=Z;try{if(Al(),Ss.current=Ks,qs){for(var r=K.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}qs=!1}if(nn=0,ie=ne=K=null,pr=!1,$r=0,ql.current=null,n===null||n.return===null){re=1,Ur=e,Z=null;break}e:{var i=t,o=n.return,l=n,a=e;if(e=ue,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,c=l,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=eu(o);if(v!==null){v.flags&=-257,tu(v,o,l,i,e),v.mode&1&&Za(i,u,e),e=v,a=u;var w=e.updateQueue;if(w===null){var _=new Set;_.add(a),e.updateQueue=_}else w.add(a);break e}else{if(!(e&1)){Za(i,u,e),Yl();break e}a=Error(k(426))}}else if(H&&l.mode&1){var j=eu(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),tu(j,o,l,i,e),Ol(zn(a,l));break e}}i=a=zn(a,l),re!==4&&(re=2),gr===null?gr=[i]:gr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=wd(i,a,e);Ka(i,g);break e;case 1:l=a;var m=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Pt===null||!Pt.has(f)))){i.flags|=65536,e&=-e,i.lanes|=e;var y=_d(i,l,e);Ka(i,y);break e}}i=i.return}while(i!==null)}Md(n)}catch(x){e=x,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(!0)}function Ud(){var t=Qs.current;return Qs.current=Ks,t===null?Ks:t}function Yl(){(re===0||re===3||re===2)&&(re=4),oe===null||!(rn&268435455)&&!(hi&268435455)||xt(oe,ue)}function Ys(t,e){var n=I;I|=2;var r=Ud();(oe!==t||ue!==e)&&(st=null,Xt(t,e));do try{$p();break}catch(s){Id(t,s)}while(!0);if(Al(),I=n,Qs.current=r,Z!==null)throw Error(k(261));return oe=null,ue=0,re}function $p(){for(;Z!==null;)Dd(Z)}function Lp(){for(;Z!==null&&!of();)Dd(Z)}function Dd(t){var e=Fd(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?Md(t):Z=e,ql.current=null}function Md(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Np(n,e),n!==null){n.flags&=32767,Z=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,Z=null;return}}else if(n=Cp(n,e,Ne),n!==null){Z=n;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);re===0&&(re=5)}function qt(t,e,n){var r=U,s=Ue.transition;try{Ue.transition=null,U=1,Ip(t,e,n,r)}finally{Ue.transition=s,U=r}return null}function Ip(t,e,n,r){do $n();while(jt!==null);if(I&6)throw Error(k(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(gf(t,i),t===oe&&(Z=oe=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ds||(ds=!0,Bd(Rs,function(){return $n(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ue.transition,Ue.transition=null;var o=U;U=1;var l=I;I|=4,ql.current=null,Pp(t,n),Ad(n,t),np(Co),$s=!!bo,Co=bo=null,t.current=n,Op(n),lf(),I=l,U=o,Ue.transition=i}else t.current=n;if(ds&&(ds=!1,jt=t,Js=s),i=t.pendingLanes,i===0&&(Pt=null),cf(n.stateNode),be(t,X()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gs)throw Gs=!1,t=Ko,Ko=null,t;return Js&1&&t.tag!==0&&$n(),i=t.pendingLanes,i&1?t===Qo?vr++:(vr=0,Qo=t):vr=0,Dt(),null}function $n(){if(jt!==null){var t=wc(Js),e=Ue.transition,n=U;try{if(Ue.transition=null,U=16>t?16:t,jt===null)var r=!1;else{if(t=jt,jt=null,Js=0,I&6)throw Error(k(331));var s=I;for(I|=4,C=t.current;C!==null;){var i=C,o=i.child;if(C.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(C=u;C!==null;){var c=C;switch(c.tag){case 0:case 11:case 15:mr(8,c,i)}var h=c.child;if(h!==null)h.return=c,C=h;else for(;C!==null;){c=C;var p=c.sibling,v=c.return;if(Pd(c),c===u){C=null;break}if(p!==null){p.return=v,C=p;break}C=v}}}var w=i.alternate;if(w!==null){var _=w.child;if(_!==null){w.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}C=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,C=o;else e:for(;C!==null;){if(i=C,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,C=g;break e}C=i.return}}var m=t.current;for(C=m;C!==null;){o=C;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,C=f;else e:for(o=m;C!==null;){if(l=C,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:di(9,l)}}catch(x){J(l,l.return,x)}if(l===o){C=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,C=y;break e}C=l.return}}if(I=s,Dt(),et&&typeof et.onPostCommitFiberRoot=="function")try{et.onPostCommitFiberRoot(ri,t)}catch{}r=!0}return r}finally{U=n,Ue.transition=e}}return!1}function pu(t,e,n){e=zn(n,e),e=wd(t,e,1),t=Tt(t,e,1),e=ye(),t!==null&&(zr(t,1,e),be(t,e))}function J(t,e,n){if(t.tag===3)pu(t,t,n);else for(;e!==null;){if(e.tag===3){pu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pt===null||!Pt.has(r))){t=zn(n,t),t=_d(e,t,1),e=Tt(e,t,1),t=ye(),e!==null&&(zr(e,1,t),be(e,t));break}}e=e.return}}function Up(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(ue&n)===n&&(re===4||re===3&&(ue&130023424)===ue&&500>X()-Ql?Xt(t,0):Kl|=n),be(t,e)}function zd(t,e){e===0&&(t.mode&1?(e=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):e=1);var n=ye();t=ht(t,e),t!==null&&(zr(t,e,n),be(t,n))}function Dp(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zd(t,n)}function Mp(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(k(314))}r!==null&&r.delete(e),zd(t,n)}var Fd;Fd=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||je.current)Se=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Se=!1,bp(t,e,n);Se=!!(t.flags&131072)}else Se=!1,H&&e.flags&1048576&&Vc(e,Fs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Es(t,e),t=e.pendingProps;var s=In(e,pe.current);An(e,n),s=Fl(null,e,r,t,s,n);var i=Bl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ee(r)?(i=!0,Ms(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Il(e),s.updater=ci,e.stateNode=s,s._reactInternals=e,Io(e,r,t,n),e=Mo(null,e,r,!0,i,n)):(e.tag=0,H&&i&&Tl(e),ve(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Es(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Fp(r),t=We(r,t),s){case 0:e=Do(null,e,r,t,n);break e;case 1:e=su(null,e,r,t,n);break e;case 11:e=nu(null,e,r,t,n);break e;case 14:e=ru(null,e,r,We(r.type,t),n);break e}throw Error(k(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:We(r,s),Do(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:We(r,s),su(t,e,r,s,n);case 3:e:{if(jd(e),t===null)throw Error(k(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Yc(t,e),Hs(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=zn(Error(k(423)),e),e=iu(t,e,r,n,s);break e}else if(r!==s){s=zn(Error(k(424)),e),e=iu(t,e,r,n,s);break e}else for(Te=Nt(e.stateNode.containerInfo.firstChild),Pe=e,H=!0,qe=null,n=Gc(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Un(),r===s){e=ft(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return Xc(e),t===null&&Ao(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,No(r,s)?o=null:i!==null&&No(r,i)&&(e.flags|=32),Sd(t,e),ve(t,e,o,n),e.child;case 6:return t===null&&Ao(e),null;case 13:return Ed(t,e,n);case 4:return Ul(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Dn(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:We(r,s),nu(t,e,r,s,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,z(Bs,r._currentValue),r._currentValue=o,i!==null)if(Ge(i.value,o)){if(i.children===s.children&&!je.current){e=ft(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===r){if(i.tag===1){a=ut(-1,n&-n),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?a.next=a:(a.next=c.next,c.next=a),u.pending=a}}i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),$o(i.return,n,e),l.lanes|=n;break}a=a.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),$o(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,An(e,n),s=Me(s),r=r(s),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,s=We(r,e.pendingProps),s=We(r.type,s),ru(t,e,r,s,n);case 15:return xd(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:We(r,s),Es(t,e),e.tag=1,Ee(r)?(t=!0,Ms(e)):t=!1,An(e,n),yd(e,r,s),Io(e,r,s,n),Mo(null,e,r,!0,t,n);case 19:return bd(t,e,n);case 22:return kd(t,e,n)}throw Error(k(156,e.tag))};function Bd(t,e){return mc(t,e)}function zp(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ie(t,e,n,r){return new zp(t,e,n,r)}function Xl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fp(t){if(typeof t=="function")return Xl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vl)return 11;if(t===yl)return 14}return 2}function Rt(t,e){var n=t.alternate;return n===null?(n=Ie(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ns(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Xl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yn:return Zt(n.children,s,i,e);case gl:o=8,s|=8;break;case io:return t=Ie(12,n,e,s|2),t.elementType=io,t.lanes=i,t;case oo:return t=Ie(13,n,e,s),t.elementType=oo,t.lanes=i,t;case lo:return t=Ie(19,n,e,s),t.elementType=lo,t.lanes=i,t;case Xu:return fi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ju:o=10;break e;case Yu:o=9;break e;case vl:o=11;break e;case yl:o=14;break e;case yt:o=16,r=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=Ie(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Zt(t,e,n,r){return t=Ie(7,t,r,e),t.lanes=n,t}function fi(t,e,n,r){return t=Ie(22,t,r,e),t.elementType=Xu,t.lanes=n,t.stateNode={isHidden:!1},t}function Qi(t,e,n){return t=Ie(6,t,null,e),t.lanes=n,t}function Gi(t,e,n){return e=Ie(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bp(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ti(0),this.expirationTimes=Ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ti(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zl(t,e,n,r,s,i,o,l,a){return t=new Bp(t,e,n,l,a),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ie(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(i),t}function Wp(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Wd(t){if(!t)return $t;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ee(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var n=t.type;if(Ee(n))return Wc(t,n,e)}return e}function Hd(t,e,n,r,s,i,o,l,a){return t=Zl(n,r,!0,t,s,i,o,l,a),t.context=Wd(null),n=t.current,r=ye(),s=Ot(n),i=ut(r,s),i.callback=e??null,Tt(n,i,s),t.current.lanes=s,zr(t,s,r),be(t,r),t}function pi(t,e,n,r){var s=e.current,i=ye(),o=Ot(s);return n=Wd(n),e.context===null?e.context=n:e.pendingContext=n,e=ut(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tt(s,e,o),t!==null&&(Qe(t,s,o,i),ks(t,s,o)),o}function Xs(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ea(t,e){mu(t,e),(t=t.alternate)&&mu(t,e)}function Hp(){return null}var Vd=typeof reportError=="function"?reportError:function(t){console.error(t)};function ta(t){this._internalRoot=t}mi.prototype.render=ta.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));pi(t,e,null,null)};mi.prototype.unmount=ta.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sn(function(){pi(null,t,null,null)}),e[dt]=null}};function mi(t){this._internalRoot=t}mi.prototype.unstable_scheduleHydration=function(t){if(t){var e=kc();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_t.length&&e!==0&&e<_t[n].priority;n++);_t.splice(n,0,t),n===0&&jc(t)}};function na(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gu(){}function Vp(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Xs(o);i.call(u)}}var o=Hd(e,r,t,0,null,!1,!1,"",gu);return t._reactRootContainer=o,t[dt]=o.current,Tr(t.nodeType===8?t.parentNode:t),sn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Xs(a);l.call(u)}}var a=Zl(t,0,!1,null,null,!1,!1,"",gu);return t._reactRootContainer=a,t[dt]=a.current,Tr(t.nodeType===8?t.parentNode:t),sn(function(){pi(e,a,n,r)}),a}function vi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Xs(o);l.call(a)}}pi(e,o,t,s)}else o=Vp(n,e,t,s,r);return Xs(o)}_c=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=or(e.pendingLanes);n!==0&&(xl(e,n|1),be(e,X()),!(I&6)&&(Fn=X()+500,Dt()))}break;case 13:sn(function(){var r=ht(t,1);if(r!==null){var s=ye();Qe(r,t,1,s)}}),ea(t,1)}};kl=function(t){if(t.tag===13){var e=ht(t,134217728);if(e!==null){var n=ye();Qe(e,t,134217728,n)}ea(t,134217728)}};xc=function(t){if(t.tag===13){var e=Ot(t),n=ht(t,e);if(n!==null){var r=ye();Qe(n,t,e,r)}ea(t,e)}};kc=function(){return U};Sc=function(t,e){var n=U;try{return U=t,e()}finally{U=n}};yo=function(t,e,n){switch(e){case"input":if(co(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=li(r);if(!s)throw Error(k(90));ec(r),co(r,s)}}}break;case"textarea":nc(t,n);break;case"select":e=n.value,e!=null&&Tn(t,!!n.multiple,e,!1)}};uc=Gl;cc=sn;var qp={usingClientEntryPoint:!1,Events:[Br,kn,li,lc,ac,Gl]},nr={findFiberByHostInstance:Gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kp={bundleType:nr.bundleType,version:nr.version,rendererPackageName:nr.rendererPackageName,rendererConfig:nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fc(t),t===null?null:t.stateNode},findFiberByHostInstance:nr.findFiberByHostInstance||Hp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{ri=hs.inject(Kp),et=hs}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qp;Re.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!na(e))throw Error(k(200));return Wp(t,e,null,n)};Re.createRoot=function(t,e){if(!na(t))throw Error(k(299));var n=!1,r="",s=Vd;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Zl(t,1,!1,null,null,n,!1,r,s),t[dt]=e.current,Tr(t.nodeType===8?t.parentNode:t),new ta(e)};Re.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=fc(e),t=t===null?null:t.stateNode,t};Re.flushSync=function(t){return sn(t)};Re.hydrate=function(t,e,n){if(!gi(e))throw Error(k(200));return vi(null,t,e,!0,n)};Re.hydrateRoot=function(t,e,n){if(!na(t))throw Error(k(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Vd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Hd(e,null,t,1,n??null,s,!1,i,o),t[dt]=e.current,Tr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new mi(e)};Re.render=function(t,e,n){if(!gi(e))throw Error(k(200));return vi(null,t,e,!1,n)};Re.unmountComponentAtNode=function(t){if(!gi(t))throw Error(k(40));return t._reactRootContainer?(sn(function(){vi(null,null,t,!1,function(){t._reactRootContainer=null,t[dt]=null})}),!0):!1};Re.unstable_batchedUpdates=Gl;Re.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gi(n))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return vi(t,e,n,!1,r)};Re.version="18.3.1-next-f1338f8080-20240426";function qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qd)}catch(t){console.error(t)}}qd(),qu.exports=Re;var Qp=qu.exports,Kd,vu=Qp;Kd=vu.createRoot,vu.hydrateRoot;const Gp="modulepreload",Jp=function(t){return"/"+t},yu={},Hr=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(a=>{if(a=Jp(a),a in yu)return;yu[a]=!0;const u=a.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Gp,u||(h.as="script"),h.crossOrigin="",h.href=a,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((p,v)=>{h.addEventListener("load",p),h.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})},Yp=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>qn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class ra extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Xp extends ra{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wu extends ra{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _u extends ra{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yo;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yo||(Yo={}));var Zp=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class e0{constructor(e,{headers:n={},customFetch:r,region:s=Yo.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=Yp(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Zp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:a}=n;a||(a=this.region);const u=new URL(`${this.url}/${e}`);a&&a!=="any"&&(l["x-region"]=a,u.searchParams.set("forceFunctionRegion",a));let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(l["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(l["Content-Type"]="application/json",c=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:c}).catch(_=>{throw new Xp(_)}),p=h.headers.get("x-relay-error");if(p&&p==="true")throw new wu(h);if(!h.ok)throw new _u(h);let v=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return v==="application/json"?w=yield h.json():v==="application/octet-stream"?w=yield h.blob():v==="text/event-stream"?w=h:v==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof _u||s instanceof wu?s.context:void 0}}})}}var ke={},sa={},yi={},Vr={},wi={},_i={},t0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Bn=t0();const n0=Bn.fetch,Qd=Bn.fetch.bind(Bn),Gd=Bn.Headers,r0=Bn.Request,s0=Bn.Response,qn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gd,Request:r0,Response:s0,default:Qd,fetch:n0},Symbol.toStringTag,{value:"Module"})),i0=xh(qn);var xi={};Object.defineProperty(xi,"__esModule",{value:!0});let o0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xi.default=o0;var Jd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_i,"__esModule",{value:!0});const l0=Jd(i0),a0=Jd(xi);let u0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=l0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a,u;let c=null,h=null,p=null,v=i.status,w=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const j=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");j&&g&&g.length>1&&(p=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(c={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,v=406,w="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const j=await i.text();try{c=JSON.parse(j),Array.isArray(c)&&i.status===404&&(h=[],c=null,v=200,w="OK")}catch{i.status===404&&j===""?(v=204,w="No Content"):c={message:j}}if(c&&this.isMaybeSingle&&(!((u=c==null?void 0:c.details)===null||u===void 0)&&u.includes("0 rows"))&&(c=null,v=200,w="OK"),c&&this.shouldThrowOnError)throw new a0.default(c)}return{error:c,data:h,count:p,status:v,statusText:w}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};_i.default=u0;var c0=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wi,"__esModule",{value:!0});const d0=c0(_i);let h0=class extends d0.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};wi.default=h0;var f0=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vr,"__esModule",{value:!0});const p0=f0(wi);let m0=class extends p0.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Vr.default=m0;var g0=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yi,"__esModule",{value:!0});const rr=g0(Vr);let v0=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new rr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new rr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(a.length>0){const u=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new rr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new rr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new rr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};yi.default=v0;var Yd=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sa,"__esModule",{value:!0});const y0=Yd(yi),w0=Yd(Vr);let _0=class Xd{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new y0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Xd(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const a=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{a.searchParams.append(h,p)})):(l="POST",u=n);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new w0.default({method:l,url:a,headers:c,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};sa.default=_0;var Kn=De&&De.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const Zd=Kn(sa);ke.PostgrestClient=Zd.default;const eh=Kn(yi);ke.PostgrestQueryBuilder=eh.default;const th=Kn(Vr);ke.PostgrestFilterBuilder=th.default;const nh=Kn(wi);ke.PostgrestTransformBuilder=nh.default;const rh=Kn(_i);ke.PostgrestBuilder=rh.default;const sh=Kn(xi);ke.PostgrestError=sh.default;var x0=ke.default={PostgrestClient:Zd.default,PostgrestQueryBuilder:eh.default,PostgrestFilterBuilder:th.default,PostgrestTransformBuilder:nh.default,PostgrestBuilder:rh.default,PostgrestError:sh.default};const{PostgrestClient:k0,PostgrestQueryBuilder:Bg,PostgrestFilterBuilder:Wg,PostgrestTransformBuilder:Hg,PostgrestBuilder:Vg,PostgrestError:qg}=x0;class S0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const j0="2.15.5",E0=`realtime-js/${j0}`,b0="1.0.0",Xo=1e4,C0=1e3,N0=100;var yr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yr||(yr={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var Ve;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ve||(Ve={}));var Zo;(function(t){t.websocket="websocket"})(Zo||(Zo={}));var Qt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Qt||(Qt={}));class T0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const a=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class ih{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var M;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(M||(M={}));const xu=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=P0(o,t,e,s),i),{})},P0=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?oh(i,o):el(o)},oh=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return $0(e,n)}switch(t){case M.bool:return O0(e);case M.float4:case M.float8:case M.int2:case M.int4:case M.int8:case M.numeric:case M.oid:return R0(e);case M.json:case M.jsonb:return A0(e);case M.timestamp:return L0(e);case M.abstime:case M.date:case M.daterange:case M.int4range:case M.int8range:case M.money:case M.reltime:case M.text:case M.time:case M.timestamptz:case M.timetz:case M.tsrange:case M.tstzrange:return el(e);default:return el(e)}},el=t=>t,O0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},R0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},A0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},$0=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>oh(e,l))}return t},L0=t=>typeof t=="string"?t.replace(" ","T"):t,lh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ji{constructor(e,n,r={},s=Xo){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ku;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ku||(ku={}));class wr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=wr.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=wr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},a={};return this.map(i,(u,c)=>{o[u]||(a[u]=c)}),this.map(o,(u,c)=>{const h=i[u];if(h){const p=c.map(j=>j.presence_ref),v=h.map(j=>j.presence_ref),w=c.filter(j=>v.indexOf(j.presence_ref)<0),_=h.filter(j=>p.indexOf(j.presence_ref)<0);w.length>0&&(l[u]=w),_.length>0&&(a[u]=_)}else l[u]=c}),this.syncDiff(i,{joins:l,leaves:a},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const c=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(a),c.length>0){const h=e[l].map(v=>v.presence_ref),p=c.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...p)}r(l,c,a)}),this.map(o,(l,a)=>{let u=e[l];if(!u)return;const c=a.map(h=>h.presence_ref);u=u.filter(h=>c.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,a),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Su;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Su||(Su={}));var _r;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_r||(_r={}));var it;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(it||(it={}));class ia{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Ji(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new ih(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new wr(this),this.broadcastEndpointURL=lh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:o,presence:l,private:a}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[_r.PRESENCE]&&this.bindings[_r.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:c}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(it.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(it.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var w;if(this.socket.setAuth(),v===void 0){e==null||e(it.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,j=(w=_==null?void 0:_.length)!==null&&w!==void 0?w:0,g=[];for(let m=0;m<j;m++){const f=_[m],{filter:{event:y,schema:x,table:S,filter:E}}=f,T=v&&v[m];if(T&&T.event===y&&T.schema===x&&T.table===S&&T.filter===E)g.push(Object.assign(Object.assign({},f),{id:T.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(it.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(it.SUBSCRIBED);return}}).receive("error",v=>{this.state=ee.errored,e==null||e(it.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(it.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ee.joined&&e===_r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Ji(this,Ve.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ji(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>N0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:a,leave:u,join:c}=Ve;if(r&&[l,a,u,c].indexOf(o)>=0&&r!==this._joinRef())return;let p=this._onMessage(o,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,_,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(_=v.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(p,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,_,j,g,m,f;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,x=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((_=n.ids)===null||_===void 0?void 0:_.includes(y))&&(x==="*"||(x==null?void 0:x.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const y=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return y==="*"||y===((f=n==null?void 0:n.event)===null||f===void 0?void 0:f.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof p=="object"&&"ids"in p){const w=p.data,{schema:_,table:j,commit_timestamp:g,type:m,errors:f}=w;p=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:g,eventType:m,new:{},old:{},errors:f}),this._getPayloadRecords(w))}v.callback(p,r)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&ia.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ve.close,{},e)}_onError(e){this._on(Ve.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=xu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=xu(e.columns,e.old_record)),n}}const Yi=()=>{},fs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},I0=[1e3,2e3,5e3,1e4],U0=1e4,D0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class M0{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xo,this.transport=null,this.heartbeatIntervalMs=fs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yi,this.ref=0,this.reconnectTimer=null,this.logger=Yi,this.conn=null,this.sendBuffer=[],this.serializer=new T0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>Hr(async()=>{const{default:l}=await Promise.resolve().then(()=>qn);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Zo.websocket}`,this.httpEndpoint=lh(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=S0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b0}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return Qt.Connecting;case yr.open:return Qt.Open;case yr.closing:return Qt.Closing;default:return Qt.Closed}}isConnected(){return this.connectionState()===Qt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new ia(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(C0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",a=i.status||"";this.log("receive",`${a} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ve.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([D0],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:E0};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Ve.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ih(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,a,u,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Xo,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:fs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Yi,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:h=>I0[h-1]||U0,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,p)=>p(JSON.stringify(h)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class oa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class z0 extends oa{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class tl extends oa{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var F0=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const ah=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>qn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},B0=()=>F0(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hr(()=>Promise.resolve().then(()=>qn),void 0)).Response:Response}),nl=t=>{if(Array.isArray(t))return t.map(n=>nl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=nl(r)}),e},W0=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var an=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const Xi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),H0=(t,e,n)=>an(void 0,void 0,void 0,function*(){const r=yield B0();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new z0(Xi(s),i,o))}).catch(s=>{e(new tl(Xi(s),s))}):e(new tl(Xi(t),t))}),V0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(W0(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function qr(t,e,n,r,s,i){return an(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,V0(e,r,s,i)).then(a=>{if(!a.ok)throw a;return r!=null&&r.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>H0(a,l,r))})})}function Zs(t,e,n,r){return an(this,void 0,void 0,function*(){return qr(t,"GET",e,n,r)})}function Xe(t,e,n,r,s){return an(this,void 0,void 0,function*(){return qr(t,"POST",e,r,s,n)})}function rl(t,e,n,r,s){return an(this,void 0,void 0,function*(){return qr(t,"PUT",e,r,s,n)})}function q0(t,e,n,r){return an(this,void 0,void 0,function*(){return qr(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function uh(t,e,n,r,s){return an(this,void 0,void 0,function*(){return qr(t,"DELETE",e,r,s,n)})}var ge=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const K0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ju={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Q0{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=ah(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ju),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),c=this._getFinalPath(u),h=yield(e=="PUT"?rl:Xe)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}upload(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return ge(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let a;const u=Object.assign({upsert:ju.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const h=yield rl(this.fetch,l.toString(),a,{headers:c});return{data:{path:i,fullPath:h.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(te(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(e,n){return ge(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield Xe(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new oa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}update(e,n,r){return ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}copy(e,n,r){return ge(this,void 0,void 0,function*(){try{return{data:{path:(yield Xe(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return ge(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield Xe(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return ge(this,void 0,void 0,function*(){try{const s=yield Xe(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}download(e,n){return ge(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Zs(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(te(l))return{data:null,error:l};throw l}})}info(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Zs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:nl(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}exists(e){return ge(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield q0(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r)&&r instanceof tl){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return ge(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}list(e,n,r){return ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},K0),n),{prefix:e||""});return{data:yield Xe(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}listV2(e,n){return ge(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Xe(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const G0="2.12.1",J0={"X-Client-Info":`storage-js/${G0}`};var cn=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class Y0{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},J0),n),this.fetch=ah(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return cn(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield Zs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return cn(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return cn(this,void 0,void 0,function*(){try{return{data:yield rl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield Xe(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}deleteBucket(e){return cn(this,void 0,void 0,function*(){try{return{data:yield uh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}}class X0 extends Y0{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new Q0(this.url,this.headers,e,this.fetch)}}const Z0="2.57.4";let ar="";typeof Deno<"u"?ar="deno":typeof document<"u"?ar="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ar="react-native":ar="node";const em={"X-Client-Info":`supabase-js-${ar}/${Z0}`},tm={headers:em},nm={schema:"public"},rm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},sm={};var im=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};const om=t=>{let e;return t?e=t:typeof fetch>"u"?e=Qd:e=fetch,(...n)=>e(...n)},lm=()=>typeof Headers>"u"?Gd:Headers,am=(t,e,n)=>{const r=om(n),s=lm();return(i,o)=>im(void 0,void 0,void 0,function*(){var l;const a=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var um=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};function cm(t){return t.endsWith("/")?t:t+"/"}function dm(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:a,auth:u,realtime:c,global:h}=e,p={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>um(this,void 0,void 0,function*(){return""})};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function hm(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cm(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const ch="2.71.1",mn=30*1e3,sl=3,Zi=sl*mn,fm="http://localhost:9999",pm="supabase.auth.token",mm={"X-Client-Info":`gotrue-js/${ch}`},il="X-Supabase-Api-Version",dh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},gm=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vm=10*60*1e3;class la extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function P(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class ym extends la{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function wm(t){return P(t)&&t.name==="AuthApiError"}class hh extends la{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Mt extends la{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class vt extends Mt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _m(t){return P(t)&&t.name==="AuthSessionMissingError"}class ps extends Mt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ms extends Mt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class gs extends Mt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function xm(t){return P(t)&&t.name==="AuthImplicitGrantRedirectError"}class Eu extends Mt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ol extends Mt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function eo(t){return P(t)&&t.name==="AuthRetryableFetchError"}class bu extends Mt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class ll extends Mt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cu=` 	
\r=`.split(""),km=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Cu.length;e+=1)t[Cu[e].charCodeAt(0)]=-2;for(let e=0;e<ei.length;e+=1)t[ei[e].charCodeAt(0)]=e;return t})();function Nu(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ei[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ei[r]),e.queuedBits-=6}}function fh(t,e,n){const r=km[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Tu(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Em(o,r,n)};for(let o=0;o<t.length;o+=1)fh(t.charCodeAt(o),s,i);return e.join("")}function Sm(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jm(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Sm(r,e)}}function Em(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function bm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)fh(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Cm(t){const e=[];return jm(t,n=>e.push(n)),new Uint8Array(e)}function Nm(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Nu(s,n,r)),Nu(null,n,r),e.join("")}function Tm(t){return Math.round(Date.now()/1e3)+t}function Pm(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Be=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},ph=()=>{if(!Be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function Om(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const mh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Hr(async()=>{const{default:r}=await Promise.resolve().then(()=>qn);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Rm=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ht=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},gt=async(t,e)=>{await t.removeItem(e)};class ki{constructor(){this.promise=new ki.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ki.promiseConstructor=Promise;function to(t){const e=t.split(".");if(e.length!==3)throw new ll("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!gm.test(e[r]))throw new ll("JWT not in base64url format");return{header:JSON.parse(Tu(e[0])),payload:JSON.parse(Tu(e[1])),signature:bm(e[2]),raw:{header:e[0],payload:e[1]}}}async function Am(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $m(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Lm(t){return("0"+t.toString(16)).substr(-2)}function Im(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Lm).join("")}async function Um(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Dm(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await Um(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dn(t,e,n=!1){const r=Im();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await gn(t,`${e}-code-verifier`,s);const i=await Dm(r);return[i,r===i?"plain":"s256"]}const Mm=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zm(t){const e=t.headers.get(il);if(!e||!e.match(Mm))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Fm(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Bm(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wm=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hn(t){if(!Wm.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function no(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pu(t){return JSON.parse(JSON.stringify(t))}var Hm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Kt=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Vm=[502,503,504];async function Ou(t){var e;if(!Rm(t))throw new ol(Kt(t),0);if(Vm.includes(t.status))throw new ol(Kt(t),t.status);let n;try{n=await t.json()}catch(i){throw new hh(Kt(i),i)}let r;const s=zm(t);if(s&&s.getTime()>=dh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new bu(Kt(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new vt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new bu(Kt(n),t.status,n.weak_password.reasons);throw new ym(Kt(n),t.status||500,r)}const qm=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[il]||(i[il]=dh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await Km(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(a):{data:Object.assign({},a),error:null}}async function Km(t,e,n,r,s,i){const o=qm(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(a){throw console.error(a),new ol(Kt(a),0)}if(l.ok||await Ou(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(a){await Ou(a)}}function rt(t){var e;let n=null;Ym(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Tm(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Ru(t){const e=rt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qm(t){return{data:t,error:null}}function Gm(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Hm(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function Jm(t){return t}function Ym(t){return t.access_token&&t.refresh_token&&t.expires_in}const ro=["global","local","others"];var Xm=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class Zm{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=mh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=ro[0]){if(ro.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ro.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:kt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Xm(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Gm,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(P(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:kt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},c=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Jm});if(c.error)throw c.error;const h=await c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=c.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const _=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=_}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(P(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){hn(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:kt})}catch(n){if(P(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){hn(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:kt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){hn(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:kt})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){hn(e.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(P(n))return{data:null,error:n};throw n}}async _deleteFactor(e){hn(e.userId),hn(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}}function Au(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function eg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fn={debug:!!(globalThis&&ph()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class tg extends gh{}async function ng(t,e,n){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),fn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw fn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new tg(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(fn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}eg();const rg={url:fm,storageKey:pm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function $u(t,e,n){return await n()}const pn={};class Dr{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dr.nextInstanceID,Dr.nextInstanceID+=1,this.instanceID>0&&Be()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},rg),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Zm({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mh(s.fetch),this.lock=s.lock||$u,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Be()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ng:this.lock=$u,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:ph()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Au(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Au(this.memoryStorage)),Be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=pn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=pn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){pn[this.storageKey]=Object.assign(Object.assign({},pn[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ch}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Om(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Be()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),xm(i)){const a=(e=i.details)===null||e===void 0?void 0:e.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return P(n)?{error:n}:{error:new hh("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rt}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:c,password:h,options:p}=e;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await dn(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:w},xform:rt})}else if("phone"in e){const{phone:c,password:h,options:p}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:rt})}else throw new ms("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ru})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ru})}else throw new ms("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new ps}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,a,u,c,h,p,v;let w,_;if("message"in e)w=e.message,_=e.signature;else{const{chain:j,wallet:g,statement:m,options:f}=e;let y;if(Be())if(typeof g=="object")y=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))y=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const x=new URL((n=f==null?void 0:f.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in y&&y.signIn){const S=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},f==null?void 0:f.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),m?{statement:m}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),_=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${x.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(r=f==null?void 0:f.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=f==null?void 0:f.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${f.signInWithSolana.notBefore}`]:[],...!((o=f==null?void 0:f.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${f.signInWithSolana.expirationTime}`]:[],...!((l=f==null?void 0:f.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${f.signInWithSolana.chainId}`]:[],...!((a=f==null?void 0:f.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${f.signInWithSolana.nonce}`]:[],...!((u=f==null?void 0:f.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${f.signInWithSolana.requestId}`]:[],...!((h=(c=f==null?void 0:f.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||h===void 0)&&h.length?["Resources",...f.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:j,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Nm(_)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rt});if(g)throw g;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ps}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:g})}catch(j){if(P(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:rt});if(await gt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new ps}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(P(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:rt}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new ps}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:a}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await dn(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=a==null?void 0:a.data)!==null&&n!==void 0?n:{},create_user:(r=a==null?void 0:a.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:a}=e,{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new ms("You must provide either an email or phone number.")}catch(l){if(P(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(P(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await dn(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Qm})}catch(i){if(P(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new vt;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(P(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ms("You must provide either an email or phone number and a type")}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ht(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Zi:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Ht(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=no()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(a,u,c)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:kt}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vt}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:kt})})}catch(n){if(P(n))return _m(n)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new vt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&e.email!=null&&([l,a]=await dn(this.storage,this.storageKey));const{data:u,error:c}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vt;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=to(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:a}=await this._callRefreshToken(e.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(e.access_token);if(a)throw a;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(P(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new vt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(P(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Be())throw new gs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new gs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Eu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new gs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Eu("No code detected.");const{data:m,error:f}=await this._exchangeCodeForSession(e.code);if(f)throw f;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=e;if(!i||!l||!o||!u)throw new gs("No session defined in URL");const c=Math.round(Date.now()/1e3),h=parseInt(l);let p=c+h;a&&(p=parseInt(a));const v=p-c;v*1e3<=mn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const w=p-h;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,p,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,p,c);const{data:_,error:j}=await this._getUser(i);if(j)throw j;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(P(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ht(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(wm(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Pm(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await dn(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(P(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(P(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,a,u,c;const{data:h,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Be()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(P(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await $m(async s=>(s>0&&await Am(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&eo(i)&&Date.now()+o-r<mn})}catch(r){if(this._debug(n,"error",r),P(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Be()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Ht(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Ht(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await gn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:no()}else if(s&&!s.user&&!s.user){const o=await Ht(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await gt(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,s)):s.user=no()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Zi;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Zi}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),eo(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ki;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new vt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),P(i)){const o={session:null,error:i};return eo(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await gn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Pu(s);await gn(this.storage,this.storageKey,i)}else{const s=Pu(n);await gn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Be()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),mn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/mn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${mn}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof gh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Be()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await dn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:a,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(n){if(P(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(P(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(P(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=to(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+vm>s)return r;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=to(r);n!=null&&n.allowExpired||Fm(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=Bm(s.alg),h=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,Cm(`${l}.${a}`)))throw new ll("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}}}Dr.nextInstanceID=0;const sg=Dr;class ig extends sg{constructor(e){super(e)}}var og=function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(c){try{u(r.next(c))}catch(h){o(h)}}function a(c){try{u(r.throw(c))}catch(h){o(h)}}function u(c){c.done?i(c.value):s(c.value).then(l,a)}u((r=r.apply(t,e||[])).next())})};class lg{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=hm(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const a=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:nm,realtime:sm,auth:Object.assign(Object.assign({},rm),{storageKey:a}),global:tm},c=dm(r??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=am(n,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new k0(new URL("rest/v1",l).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new X0(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new e0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return og(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:a,debug:u},c,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ig({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),c),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:a,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new M0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ag=(t,e,n)=>new lg(t,e,n);function ug(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}ug()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const cg="https://msenozjmnymwvjdgkknv.supabase.co",dg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1zZW5vemptbnltd3ZqZGdra252Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjExMjYzMTYsImV4cCI6MjA3NjcwMjMxNn0.oBGLcvbuLzkVTeCFD5YYYrK1GvEOV3V0uQMgA_J4NfM",D=ag(cg,dg),vh=N.createContext(void 0);function hg({children:t}){const[e,n]=N.useState(null),[r,s]=N.useState(null),[i,o]=N.useState(!0);N.useEffect(()=>{D.auth.getSession().then(({data:{session:p}})=>{n((p==null?void 0:p.user)??null),p!=null&&p.user?l(p.user.id):o(!1)});const{data:{subscription:h}}=D.auth.onAuthStateChange((p,v)=>{n((v==null?void 0:v.user)??null),v!=null&&v.user?l(v.user.id):(s(null),o(!1))});return()=>h.unsubscribe()},[]);async function l(h){try{const{data:p,error:v}=await D.from("profiles").select("*").eq("id",h).maybeSingle();if(v)throw v;s(p)}catch(p){console.error("Error loading profile:",p)}finally{o(!1)}}async function a(h,p,v){const{error:w}=await D.auth.signUp({email:h,password:p,options:{data:{username:v,display_name:v}}});if(w)throw w}async function u(h,p){const{error:v}=await D.auth.signInWithPassword({email:h,password:p});if(v)throw v}async function c(){const{error:h}=await D.auth.signOut();if(h)throw h}return d.jsx(vh.Provider,{value:{user:e,profile:r,loading:i,signUp:a,signIn:u,signOut:c},children:t})}function Qn(){const t=N.useContext(vh);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),me=(t,e)=>{const n=N.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:a,...u},c)=>N.createElement("svg",{ref:c,...fg,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${pg(t)}`,l].join(" "),...u},[...e.map(([h,p])=>N.createElement(h,p)),...Array.isArray(a)?a:[a]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=me("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=me("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=me("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=me("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wh=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=me("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=me("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=me("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function jg(){const[t,e]=N.useState(!1),[n,r]=N.useState(""),[s,i]=N.useState(""),[o,l]=N.useState(""),[a,u]=N.useState(""),[c,h]=N.useState(!1),{signUp:p,signIn:v}=Qn();async function w(_){_.preventDefault(),u(""),h(!0);try{if(t){if(!o.trim())throw new Error("Username is required");await p(n,s,o)}else await v(n,s)}catch(j){u(j instanceof Error?j.message:"An error occurred")}finally{h(!1)}}return d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-slate-800 rounded-2xl shadow-2xl w-full max-w-md p-8 border border-slate-700",children:[d.jsx("div",{className:"flex items-center justify-center mb-8",children:d.jsx(yh,{className:"w-12 h-12 text-blue-500"})}),d.jsx("h1",{className:"text-3xl font-bold text-white text-center mb-2",children:t?"Create Account":"Welcome Back"}),d.jsx("p",{className:"text-slate-400 text-center mb-8",children:t?"Join the conversation":"Sign in to continue"}),d.jsxs("form",{onSubmit:w,className:"space-y-4",children:[t&&d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Username"}),d.jsx("input",{type:"text",value:o,onChange:_=>l(_.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Choose a username",required:t})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),d.jsx("input",{type:"email",value:n,onChange:_=>r(_.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),d.jsx("input",{type:"password",value:s,onChange:_=>i(_.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0})]}),a&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:d.jsx("p",{className:"text-red-400 text-sm",children:a})}),d.jsx("button",{type:"submit",disabled:c,className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Loading...":t?"Sign Up":"Sign In"})]}),d.jsx("div",{className:"mt-6 text-center",children:d.jsx("button",{onClick:()=>{e(!t),u("")},className:"text-blue-400 hover:text-blue-300 text-sm transition-colors",children:t?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})})}function Eg({servers:t,selectedServerId:e,onSelectServer:n,onSelectFriends:r,onCreateServer:s,onShowAdmin:i,isOwner:o}){return d.jsxs("div",{className:"h-16 bg-slate-900 border-b border-slate-800 flex items-center px-4 gap-3 overflow-x-auto",children:[d.jsx("button",{onClick:()=>n(null),className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all ${e===null&&e!=="friends"?"bg-blue-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white hover:rounded-2xl"}`,title:"Home",children:d.jsx(vg,{className:"w-6 h-6"})}),d.jsx("button",{onClick:r,className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all ${e==="friends"?"bg-blue-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white hover:rounded-2xl"}`,title:"Friends",children:d.jsx(aa,{className:"w-6 h-6"})}),d.jsx("div",{className:"h-8 w-px bg-slate-700"}),t.map(l=>d.jsx("button",{onClick:()=>n(l.id),className:`flex-shrink-0 w-12 h-12 rounded-xl flex items-center justify-center font-semibold text-lg transition-all ${e===l.id?"bg-blue-600 text-white":"bg-slate-800 text-slate-400 hover:bg-slate-700 hover:text-white hover:rounded-2xl"}`,title:l.name,children:l.icon_url?d.jsx("img",{src:l.icon_url,alt:l.name,className:"w-full h-full rounded-xl object-cover"}):l.name.substring(0,2).toUpperCase()},l.id)),d.jsx("button",{onClick:s,className:"flex-shrink-0 w-12 h-12 rounded-xl bg-slate-800 text-green-500 hover:bg-green-600 hover:text-white hover:rounded-2xl flex items-center justify-center transition-all",title:"Create Server",children:d.jsx(wh,{className:"w-6 h-6"})}),o&&d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"h-8 w-px bg-slate-700"}),d.jsx("button",{onClick:i,className:"flex-shrink-0 w-12 h-12 rounded-xl bg-slate-800 text-amber-500 hover:bg-amber-600 hover:text-white hover:rounded-2xl flex items-center justify-center transition-all ml-auto",title:"Admin Panel",children:d.jsx(_h,{className:"w-6 h-6"})})]})]})}function bg({server:t,channels:e,selectedChannelId:n,onSelectChannel:r,onCreateChannel:s,onServerSettings:i,onUserSettings:o,canManageChannels:l,profile:a}){var c;const u=e.filter(h=>h.type==="text").sort((h,p)=>h.position-p.position);return d.jsxs("div",{className:"w-60 bg-slate-800 flex flex-col",children:[d.jsxs("div",{className:"h-12 px-4 flex items-center justify-between border-b border-slate-900 shadow-md",children:[d.jsx("h2",{className:"font-semibold text-white truncate",children:(t==null?void 0:t.name)||"Select a Server"}),t&&l&&d.jsx("button",{onClick:i,className:"text-slate-400 hover:text-white transition-colors",title:"Server Settings",children:d.jsx(_h,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex items-center justify-between px-2 py-2",children:[d.jsxs("div",{className:"flex items-center gap-1 text-xs font-semibold text-slate-400 uppercase",children:[d.jsx(ti,{className:"w-3 h-3"}),"Text Channels"]}),l&&d.jsx("button",{onClick:s,className:"text-slate-400 hover:text-white transition-colors",title:"Create Channel",children:d.jsx(wh,{className:"w-4 h-4"})})]}),u.map(h=>d.jsxs("button",{onClick:()=>r(h.id),className:`w-full flex items-center gap-2 px-2 py-2 rounded-md transition-colors ${n===h.id?"bg-slate-700 text-white":"text-slate-400 hover:bg-slate-700/50 hover:text-slate-300"}`,children:[d.jsx(ti,{className:"w-4 h-4 flex-shrink-0"}),d.jsx("span",{className:"truncate text-sm",children:h.name})]},h.id)),u.length===0&&d.jsx("p",{className:"text-slate-500 text-xs px-2 py-4 text-center",children:"No channels yet"})]}):d.jsx("div",{className:"text-slate-500 text-sm px-2 py-4 text-center",children:"Select a server to see channels"})}),d.jsxs("div",{className:"h-14 px-2 border-t border-slate-900 flex items-center justify-between bg-slate-850",children:[d.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[d.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-white text-sm font-semibold flex-shrink-0",children:((c=a==null?void 0:a.username)==null?void 0:c.substring(0,2).toUpperCase())||"U"}),d.jsxs("div",{className:"min-w-0 flex-1",children:[d.jsx("p",{className:"text-white text-sm font-semibold truncate",children:(a==null?void 0:a.display_name)||(a==null?void 0:a.username)}),d.jsxs("p",{className:"text-slate-400 text-xs truncate",children:["@",a==null?void 0:a.username]})]})]}),d.jsx("button",{onClick:o,className:"p-2 text-slate-400 hover:text-white hover:bg-slate-700 rounded transition-colors flex-shrink-0",title:"User Settings",children:d.jsx(gg,{className:"w-4 h-4"})})]})]})}function Cg({channel:t}){const[e,n]=N.useState([]),[r,s]=N.useState(""),[i,o]=N.useState(!1),l=N.useRef(null),{user:a}=Qn();N.useEffect(()=>{if(!t){n([]);return}c();const p=D.channel(`channel-${t.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`channel_id=eq.${t.id}`},v=>{c()}).subscribe();return()=>{p.unsubscribe()}},[t]),N.useEffect(()=>{u()},[e]);function u(){var p;(p=l.current)==null||p.scrollIntoView({behavior:"smooth"})}async function c(){if(t)try{const{data:p,error:v}=await D.from("messages").select("*, profiles(*)").eq("channel_id",t.id).order("created_at",{ascending:!0}).limit(100);if(v)throw v;n(p||[])}catch(p){console.error("Error loading messages:",p)}}async function h(p){if(p.preventDefault(),!(!r.trim()||!t||!a)){o(!0);try{const{error:v}=await D.from("messages").insert({channel_id:t.id,user_id:a.id,content:r.trim()});if(v)throw v;s("")}catch(v){console.error("Error sending message:",v)}finally{o(!1)}}}return t?d.jsxs("div",{className:"flex-1 flex flex-col bg-slate-700",children:[d.jsxs("div",{className:"h-12 px-4 flex items-center border-b border-slate-600 shadow-md",children:[d.jsx(ti,{className:"w-5 h-5 text-slate-400 mr-2"}),d.jsx("h3",{className:"font-semibold text-white",children:t.name})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[e.map(p=>{var v,w,_,j,g;return d.jsxs("div",{className:"flex gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center text-white font-semibold flex-shrink-0",children:((w=(v=p.profiles)==null?void 0:v.username)==null?void 0:w.substring(0,2).toUpperCase())||"U"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[d.jsx("span",{className:"font-semibold text-white",children:((_=p.profiles)==null?void 0:_.display_name)||((j=p.profiles)==null?void 0:j.username)||"Unknown"}),((g=p.profiles)==null?void 0:g.is_owner)&&d.jsx("span",{className:"text-xs bg-amber-600 text-white px-2 py-0.5 rounded",children:"OWNER"}),d.jsx("span",{className:"text-xs text-slate-400",children:new Date(p.created_at).toLocaleTimeString()})]}),d.jsx("p",{className:"text-slate-200 break-words",children:p.content})]})]},p.id)}),d.jsx("div",{ref:l})]}),d.jsx("form",{onSubmit:h,className:"p-4 border-t border-slate-600",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:r,onChange:p=>s(p.target.value),placeholder:`Message #${t.name}`,className:"flex-1 px-4 py-3 bg-slate-600 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 placeholder-slate-400",disabled:i}),d.jsx("button",{type:"submit",disabled:i||!r.trim(),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:d.jsx(_g,{className:"w-4 h-4"})})]})})]}):d.jsx("div",{className:"flex-1 flex items-center justify-center bg-slate-700",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ti,{className:"w-16 h-16 text-slate-500 mx-auto mb-4"}),d.jsx("h2",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No Channel Selected"}),d.jsx("p",{className:"text-slate-400",children:"Select a channel from the sidebar to start chatting"})]})})}function Ng({onClose:t,onCreate:e}){const[n,r]=N.useState(""),[s,i]=N.useState(!1),[o,l]=N.useState("");async function a(u){if(u.preventDefault(),!!n.trim()){i(!0),l("");try{await e(n.trim()),t()}catch(c){l(c instanceof Error?c.message:"Failed to create server")}finally{i(!1)}}}return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Server"}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:d.jsx(Lt,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Server Name"}),d.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"My Awesome Server",required:!0,autoFocus:!0})]}),o&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:d.jsx("p",{className:"text-red-400 text-sm",children:o})}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s||!n.trim(),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Create"})]})]})]})})}function Tg({onClose:t,onCreate:e}){const[n,r]=N.useState(""),[s,i]=N.useState(!1),[o,l]=N.useState("");async function a(u){if(u.preventDefault(),!!n.trim()){i(!0),l("");try{await e(n.trim()),t()}catch(c){l(c instanceof Error?c.message:"Failed to create channel")}finally{i(!1)}}}return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Create Channel"}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:d.jsx(Lt,{className:"w-5 h-5"})})]}),d.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Channel Name"}),d.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"general",required:!0,autoFocus:!0})]}),o&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:d.jsx("p",{className:"text-red-400 text-sm",children:o})}),d.jsxs("div",{className:"flex gap-3 pt-2",children:[d.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",disabled:s||!n.trim(),className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Creating...":"Create"})]})]})]})})}function Pg({server:t,onClose:e,onDelete:n}){const[r,s]=N.useState(!1),[i,o]=N.useState(!1);async function l(){s(!0);try{await n(),e()}catch(a){console.error("Error deleting server:",a)}finally{s(!1)}}return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-md",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:"Server Settings"}),d.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:d.jsx(Lt,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Server Name"}),d.jsx("input",{type:"text",value:t.name,disabled:!0,className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-slate-500"})]}),d.jsxs("div",{className:"pt-4 border-t border-slate-700",children:[d.jsx("h3",{className:"text-sm font-medium text-red-400 mb-3",children:"Danger Zone"}),i?d.jsxs("div",{className:"space-y-3",children:[d.jsx("p",{className:"text-sm text-slate-300",children:"Are you sure? This will permanently delete the server and all its channels and messages."}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",children:"Cancel"}),d.jsx("button",{onClick:l,disabled:r,className:"flex-1 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors disabled:opacity-50",children:r?"Deleting...":"Delete"})]})]}):d.jsxs("button",{onClick:()=>o(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-red-600/10 hover:bg-red-600/20 text-red-400 border border-red-600/50 rounded-lg transition-colors",children:[d.jsx(al,{className:"w-4 h-4"}),"Delete Server"]})]})]})]})})}function Og({onClose:t}){const[e,n]=N.useState("overview"),[r,s]=N.useState([]),[i,o]=N.useState([]),[l,a]=N.useState({totalUsers:0,totalServers:0,totalMessages:0}),[u,c]=N.useState(!0);N.useEffect(()=>{h()},[]);async function h(){var w,_;c(!0);try{const[j,g,m]=await Promise.all([D.from("profiles").select("*").order("created_at",{ascending:!1}),D.from("servers").select("*").order("created_at",{ascending:!1}),D.from("messages").select("id",{count:"exact",head:!0})]);j.data&&s(j.data),g.data&&o(g.data),a({totalUsers:((w=j.data)==null?void 0:w.length)||0,totalServers:((_=g.data)==null?void 0:_.length)||0,totalMessages:m.count||0})}catch(j){console.error("Error loading admin data:",j)}finally{c(!1)}}async function p(w){if(confirm("Are you sure you want to delete this user? This cannot be undone."))try{const{error:_}=await D.from("profiles").delete().eq("id",w);if(_)throw _;await h()}catch(_){console.error("Error deleting user:",_),alert("Failed to delete user")}}async function v(w){if(confirm("Are you sure you want to delete this server? This cannot be undone."))try{const{error:_}=await D.from("servers").delete().eq("id",w);if(_)throw _;await h()}catch(_){console.error("Error deleting server:",_),alert("Failed to delete server")}}return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-4xl h-[80vh] flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(kg,{className:"w-6 h-6 text-amber-500"}),d.jsx("h2",{className:"text-2xl font-bold text-white",children:"Admin Panel"})]}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:d.jsx(Lt,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex border-b border-slate-700",children:[d.jsx("button",{onClick:()=>n("overview"),className:`px-6 py-3 font-medium transition-colors ${e==="overview"?"text-white border-b-2 border-amber-500":"text-slate-400 hover:text-white"}`,children:"Overview"}),d.jsx("button",{onClick:()=>n("users"),className:`px-6 py-3 font-medium transition-colors ${e==="users"?"text-white border-b-2 border-amber-500":"text-slate-400 hover:text-white"}`,children:"Users"}),d.jsx("button",{onClick:()=>n("servers"),className:`px-6 py-3 font-medium transition-colors ${e==="servers"?"text-white border-b-2 border-amber-500":"text-slate-400 hover:text-white"}`,children:"Servers"})]}),d.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:u?d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsx("div",{className:"text-slate-400",children:"Loading..."})}):d.jsxs(d.Fragment,{children:[e==="overview"&&d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(aa,{className:"w-8 h-8 text-blue-500"}),d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Total Users"})]}),d.jsx("p",{className:"text-3xl font-bold text-white",children:l.totalUsers})]}),d.jsxs("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(xg,{className:"w-8 h-8 text-green-500"}),d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Total Servers"})]}),d.jsx("p",{className:"text-3xl font-bold text-white",children:l.totalServers})]}),d.jsxs("div",{className:"bg-slate-900 rounded-lg p-6 border border-slate-700",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[d.jsx(yh,{className:"w-8 h-8 text-purple-500"}),d.jsx("h3",{className:"text-lg font-semibold text-white",children:"Total Messages"})]}),d.jsx("p",{className:"text-3xl font-bold text-white",children:l.totalMessages})]})]}),e==="users"&&d.jsxs("div",{className:"space-y-3",children:[r.map(w=>d.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-700 flex items-center justify-center text-white font-semibold",children:w.username.substring(0,2).toUpperCase()}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("h4",{className:"font-semibold text-white",children:w.display_name||w.username}),w.is_owner&&d.jsx("span",{className:"text-xs bg-amber-600 text-white px-2 py-1 rounded",children:"OWNER"})]}),d.jsxs("p",{className:"text-sm text-slate-400",children:["@",w.username]}),d.jsxs("p",{className:"text-xs text-slate-500",children:["Joined ",new Date(w.created_at).toLocaleDateString()]})]})]}),!w.is_owner&&d.jsx("button",{onClick:()=>p(w.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete User",children:d.jsx(al,{className:"w-4 h-4"})})]},w.id)),r.length===0&&d.jsx("p",{className:"text-slate-400 text-center py-8",children:"No users found"})]}),e==="servers"&&d.jsxs("div",{className:"space-y-3",children:[i.map(w=>d.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border border-slate-700 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-slate-700 flex items-center justify-center text-white font-semibold",children:w.name.substring(0,2).toUpperCase()}),d.jsxs("div",{children:[d.jsx("h4",{className:"font-semibold text-white",children:w.name}),d.jsxs("p",{className:"text-xs text-slate-500",children:["Created ",new Date(w.created_at).toLocaleDateString()]})]})]}),d.jsx("button",{onClick:()=>v(w.id),className:"p-2 text-red-400 hover:bg-red-500/10 rounded-lg transition-colors",title:"Delete Server",children:d.jsx(al,{className:"w-4 h-4"})})]},w.id)),i.length===0&&d.jsx("p",{className:"text-slate-400 text-center py-8",children:"No servers found"})]})]})})]})})}function Rg({onOpenDM:t}){const{profile:e}=Qn(),[n,r]=N.useState("all"),[s,i]=N.useState([]),[o,l]=N.useState(""),[a,u]=N.useState([]),[c,h]=N.useState(!1);N.useEffect(()=>{n!=="add"&&p()},[n,e]);async function p(){if(e)try{const{data:f,error:y}=await D.from("friendships").select("*, profiles!friendships_friend_id_fkey(*)").or(`user_id.eq.${e.id},friend_id.eq.${e.id}`);if(y)throw y;const x=(f==null?void 0:f.map(S=>({...S,friend_profile:S.user_id===e.id?S.profiles:void 0})))||[];i(x)}catch(f){console.error("Error loading friends:",f)}}async function v(){if(!(!o.trim()||!e)){h(!0);try{const{data:f,error:y}=await D.from("profiles").select("*").ilike("username",`%${o}%`).neq("id",e.id).limit(10);if(y)throw y;u(f||[])}catch(f){console.error("Error searching users:",f)}finally{h(!1)}}}async function w(f){if(e)try{const{error:y}=await D.from("friendships").insert({user_id:e.id,friend_id:f,status:"pending"});if(y)throw y;u([]),l("")}catch(y){console.error("Error sending friend request:",y)}}async function _(f){try{const{error:y}=await D.from("friendships").update({status:"accepted"}).eq("id",f);if(y)throw y;await p()}catch(y){console.error("Error accepting friend request:",y)}}async function j(f){try{const{error:y}=await D.from("friendships").delete().eq("id",f);if(y)throw y;await p()}catch(y){console.error("Error removing friend:",y)}}const g=s.filter(f=>f.status==="pending"&&f.friend_id===(e==null?void 0:e.id)),m=s.filter(f=>f.status==="accepted");return d.jsxs("div",{className:"flex-1 flex flex-col bg-slate-700",children:[d.jsxs("div",{className:"h-12 px-4 flex items-center border-b border-slate-600 shadow-md",children:[d.jsx(aa,{className:"w-5 h-5 text-slate-400 mr-2"}),d.jsx("h3",{className:"font-semibold text-white",children:"Friends"})]}),d.jsxs("div",{className:"h-12 px-4 flex items-center gap-4 border-b border-slate-600",children:[d.jsx("button",{onClick:()=>r("all"),className:`px-2 py-1 rounded transition-colors ${n==="all"?"bg-slate-600 text-white":"text-slate-300 hover:text-white"}`,children:"All"}),d.jsxs("button",{onClick:()=>r("pending"),className:`px-2 py-1 rounded transition-colors ${n==="pending"?"bg-slate-600 text-white":"text-slate-300 hover:text-white"}`,children:["Pending ",g.length>0&&`(${g.length})`]}),d.jsx("button",{onClick:()=>r("add"),className:`px-2 py-1 rounded transition-colors ${n==="add"?"bg-green-600 text-white":"bg-green-600/80 text-white hover:bg-green-600"}`,children:"Add Friend"})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[n==="add"&&d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-white font-semibold mb-2",children:"Add Friend"}),d.jsx("p",{className:"text-slate-400 text-sm mb-4",children:"You can add friends by their username"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),onKeyDown:f=>f.key==="Enter"&&v(),placeholder:"Enter username",className:"flex-1 px-4 py-2 bg-slate-900 text-white rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),d.jsx("button",{onClick:v,disabled:c,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:"Search"})]})]}),a.length>0&&d.jsx("div",{className:"space-y-2",children:a.map(f=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center text-white font-semibold",children:f.username.substring(0,2).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white",children:f.display_name||f.username}),d.jsxs("p",{className:"text-sm text-slate-400",children:["@",f.username]})]})]}),d.jsx("button",{onClick:()=>w(f.id),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:"Add Friend"})]},f.id))})]}),n==="pending"&&d.jsx("div",{className:"space-y-2",children:g.length===0?d.jsx("p",{className:"text-slate-400 text-center py-8",children:"No pending requests"}):g.map(f=>{var y,x,S,E;return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center text-white font-semibold",children:((x=(y=f.friend_profile)==null?void 0:y.username)==null?void 0:x.substring(0,2).toUpperCase())||"U"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white",children:((S=f.friend_profile)==null?void 0:S.display_name)||((E=f.friend_profile)==null?void 0:E.username)}),d.jsx("p",{className:"text-sm text-slate-400",children:"Incoming Friend Request"})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>_(f.id),className:"p-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors",title:"Accept",children:d.jsx(mg,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>j(f.id),className:"p-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",title:"Decline",children:d.jsx(Lt,{className:"w-4 h-4"})})]})]},f.id)})}),n==="all"&&d.jsx("div",{className:"space-y-2",children:m.length===0?d.jsx("p",{className:"text-slate-400 text-center py-8",children:"No friends yet"}):m.map(f=>{var x;const y=f.user_id===(e==null?void 0:e.id)?f.profiles:f.friend_profile;return d.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-800 rounded-lg hover:bg-slate-750 transition-colors",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-600 flex items-center justify-center text-white font-semibold",children:((x=y==null?void 0:y.username)==null?void 0:x.substring(0,2).toUpperCase())||"U"}),d.jsxs("div",{children:[d.jsx("p",{className:"font-semibold text-white",children:(y==null?void 0:y.display_name)||(y==null?void 0:y.username)}),d.jsxs("p",{className:"text-sm text-slate-400",children:["@",y==null?void 0:y.username]})]})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>y&&t(y.id),className:"p-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg transition-colors",title:"Message",children:d.jsx(wg,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>j(f.id),className:"p-2 bg-red-600/20 hover:bg-red-600 text-red-400 hover:text-white rounded-lg transition-colors",title:"Remove Friend",children:d.jsx(Lt,{className:"w-4 h-4"})})]})]},f.id)})})]})]})}function Ag({onClose:t}){var y;const{profile:e}=Qn(),[n,r]=N.useState("profile"),[s,i]=N.useState((e==null?void 0:e.display_name)||""),[o,l]=N.useState(""),[a,u]=N.useState(""),[c,h]=N.useState(""),[p,v]=N.useState(!1),[w,_]=N.useState(""),[j,g]=N.useState("");async function m(){if(e){v(!0),g(""),_("");try{const{error:x}=await D.from("profiles").update({display_name:s}).eq("id",e.id);if(x)throw x;_("Profile updated successfully!")}catch(x){g(x instanceof Error?x.message:"Failed to update profile")}finally{v(!1)}}}async function f(){v(!0),g(""),_("");try{if(a!==c)throw new Error("Passwords do not match");if(a.length<6)throw new Error("Password must be at least 6 characters");const{error:x}=await D.auth.updateUser({password:a});if(x)throw x;_("Password changed successfully!"),l(""),u(""),h("")}catch(x){g(x instanceof Error?x.message:"Failed to change password")}finally{v(!1)}}return d.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:d.jsxs("div",{className:"bg-slate-800 rounded-xl w-full max-w-4xl h-[600px] flex overflow-hidden",children:[d.jsxs("div",{className:"w-64 bg-slate-900 p-4 space-y-2",children:[d.jsx("h3",{className:"text-xs font-semibold text-slate-400 uppercase px-2 mb-2",children:"User Settings"}),d.jsxs("button",{onClick:()=>r("profile"),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${n==="profile"?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[d.jsx(Sg,{className:"w-4 h-4 inline mr-2"}),"My Profile"]}),d.jsxs("button",{onClick:()=>r("account"),className:`w-full text-left px-3 py-2 rounded-md transition-colors ${n==="account"?"bg-slate-700 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"}`,children:[d.jsx(yg,{className:"w-4 h-4 inline mr-2"}),"Password & Security"]}),d.jsx("div",{className:"pt-4 border-t border-slate-800",children:d.jsxs("button",{onClick:t,className:"w-full px-3 py-2 text-slate-400 hover:text-white text-left rounded-md hover:bg-slate-800 transition-colors",children:[d.jsx(Lt,{className:"w-4 h-4 inline mr-2"}),"Close"]})})]}),d.jsxs("div",{className:"flex-1 flex flex-col",children:[d.jsxs("div",{className:"p-6 border-b border-slate-700 flex items-center justify-between",children:[d.jsx("h2",{className:"text-xl font-bold text-white",children:n==="profile"?"My Profile":"Password & Security"}),d.jsx("button",{onClick:t,className:"text-slate-400 hover:text-white transition-colors",children:d.jsx(Lt,{className:"w-5 h-5"})})]}),d.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n==="profile"&&d.jsxs("div",{className:"space-y-6 max-w-2xl",children:[d.jsxs("div",{className:"flex items-center gap-4 p-4 bg-slate-900 rounded-lg",children:[d.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-700 flex items-center justify-center text-white text-2xl font-bold",children:(y=e==null?void 0:e.username)==null?void 0:y.substring(0,2).toUpperCase()}),d.jsxs("div",{children:[d.jsx("p",{className:"text-white font-semibold text-lg",children:(e==null?void 0:e.display_name)||(e==null?void 0:e.username)}),d.jsxs("p",{className:"text-slate-400",children:["@",e==null?void 0:e.username]}),(e==null?void 0:e.is_owner)&&d.jsx("span",{className:"inline-block mt-1 text-xs bg-amber-600 text-white px-2 py-1 rounded",children:"PLATFORM OWNER"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Display Name"}),d.jsx("input",{type:"text",value:s,onChange:x=>i(x.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter display name"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Username"}),d.jsx("input",{type:"text",value:(e==null?void 0:e.username)||"",disabled:!0,className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-slate-500"}),d.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Username cannot be changed"})]}),w&&d.jsx("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-3",children:d.jsx("p",{className:"text-green-400 text-sm",children:w})}),j&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:d.jsx("p",{className:"text-red-400 text-sm",children:j})}),d.jsx("button",{onClick:m,disabled:p,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:p?"Saving...":"Save Changes"})]}),n==="account"&&d.jsx("div",{className:"space-y-6 max-w-2xl",children:d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Change Password"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"New Password"}),d.jsx("input",{type:"password",value:a,onChange:x=>u(x.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter new password"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Confirm Password"}),d.jsx("input",{type:"password",value:c,onChange:x=>h(x.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Confirm new password"})]}),w&&d.jsx("div",{className:"bg-green-500/10 border border-green-500/50 rounded-lg p-3",children:d.jsx("p",{className:"text-green-400 text-sm",children:w})}),j&&d.jsx("div",{className:"bg-red-500/10 border border-red-500/50 rounded-lg p-3",children:d.jsx("p",{className:"text-red-400 text-sm",children:j})}),d.jsx("button",{onClick:f,disabled:p||!a||!c,className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50",children:p?"Changing...":"Change Password"})]})]})})]})]})]})})}function $g(){const{profile:t,signOut:e}=Qn(),[n,r]=N.useState([]),[s,i]=N.useState(null),[o,l]=N.useState([]),[a,u]=N.useState(null),[c,h]=N.useState(null),[p,v]=N.useState(!1),[w,_]=N.useState(!1),[j,g]=N.useState(!1),[m,f]=N.useState(!1),[y,x]=N.useState(!1);N.useEffect(()=>{S()},[t]),N.useEffect(()=>{s&&s!=="friends"?(E(s),T(s)):(l([]),u(null),h(null))},[s]);async function S(){if(t)try{const{data:W,error:G}=await D.from("server_members").select("servers(*)").eq("user_id",t.id);if(G)throw G;const le=(W==null?void 0:W.map(b=>b.servers).filter(Boolean))||[];r(le)}catch(W){console.error("Error loading servers:",W)}}async function E(W){try{const{data:G,error:le}=await D.from("channels").select("*").eq("server_id",W).order("position",{ascending:!0});if(le)throw le;l(G||[]),G&&G.length>0&&!a&&u(G[0].id)}catch(G){console.error("Error loading channels:",G)}}async function T(W){if(t)try{const{data:G,error:le}=await D.from("server_members").select("*").eq("server_id",W).eq("user_id",t.id).maybeSingle();if(le)throw le;h(G)}catch(G){console.error("Error loading membership:",G)}}async function V(W){if(!t)return;const{data:G,error:le}=await D.from("servers").insert({name:W,owner_id:t.id}).select().single();if(le)throw le;const{error:b}=await D.from("channels").insert({server_id:G.id,name:"general",type:"text",position:0});if(b)throw b;await S(),i(G.id)}async function A(W){if(!s)return;const G=Math.max(...o.map(b=>b.position),-1),{error:le}=await D.from("channels").insert({server_id:s,name:W,type:"text",position:G+1});if(le)throw le;await E(s)}async function Ce(){if(!s)return;const{error:W}=await D.from("servers").delete().eq("id",s);if(W)throw W;i(null),await S()}const nt=n.find(W=>W.id===s)||null,zt=o.find(W=>W.id===a)||null,Kr=(c==null?void 0:c.role)==="owner"||(c==null?void 0:c.role)==="admin";return d.jsxs("div",{className:"h-screen flex flex-col bg-slate-900",children:[d.jsx(Eg,{servers:n,selectedServerId:s,onSelectServer:i,onSelectFriends:()=>i("friends"),onCreateServer:()=>v(!0),onShowAdmin:()=>f(!0),isOwner:(t==null?void 0:t.is_owner)||!1}),d.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[s!=="friends"&&d.jsx(bg,{server:nt,channels:o,selectedChannelId:a,onSelectChannel:u,onCreateChannel:()=>_(!0),onServerSettings:()=>g(!0),onUserSettings:()=>x(!0),canManageChannels:Kr,profile:t}),s==="friends"?d.jsx(Rg,{onOpenDM:W=>console.log("Open DM with:",W)}):d.jsx(Cg,{channel:zt})]}),p&&d.jsx(Ng,{onClose:()=>v(!1),onCreate:V}),w&&s&&d.jsx(Tg,{onClose:()=>_(!1),onCreate:A}),j&&nt&&d.jsx(Pg,{server:nt,onClose:()=>g(!1),onDelete:Ce}),m&&(t==null?void 0:t.is_owner)&&d.jsx(Og,{onClose:()=>f(!1)}),y&&d.jsx(Ag,{onClose:()=>x(!1)})]})}function Lg(){const{user:t,loading:e}=Qn();return e?d.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:d.jsx("div",{className:"text-white text-lg",children:"Loading..."})}):t?d.jsx($g,{}):d.jsx(jg,{})}function Ig(){return d.jsx(hg,{children:d.jsx(Lg,{})})}Kd(document.getElementById("root")).render(d.jsx(N.StrictMode,{children:d.jsx(Ig,{})}));
